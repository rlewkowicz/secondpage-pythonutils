var googletag=googletag||{};googletag.cmd=googletag.cmd||[],googletag.cmd.push(function(){googletag.pubads().disableInitialLoad();});window.an_url=window.location.hostname+window.location.pathname;if (document.getElementsByName('article.section').length>0){if (document.getElementsByName('article.section')[0].content == "Blogs"){if (document.getElementsByName('article.id').length>0){window.an_section="BlogPost";}}}
  
/* Generated from hbw: 1.3.3*/
var pbjs=window.pbjs||{};pbjs.que=pbjs.que||[];var googletag=window.googletag||{};googletag.cmd=googletag.cmd||[];var PREBID_TIMEOUT=750,REQUEST_BIDS_ON_PAGE_LOAD=!0,SHOW_ADS_ON_PAGE_LOAD=!1;!function(){function e(e){var d=!1,a=e.on_page_var.name.split(".");return e.on_page_var.value.forEach(function(n){for(var i=window,r=0;r<=a.length;r++)i[a[r]]&&(i[a[r]]===n&&(t("var",e.on_page_var.name,n),d=!0),i=i[a[r]])}),d}function d(e,d){return-1!==e.indexOf(d)}function a(e){return window.googletag.pubads().getSlots().filter(function(a){return d(e,a.getAdUnitPath())||d(e,a.getSlotElementId())})}function n(e,d){pbjs.initAdserverSet=!0,pbjs.requestBids({adUnitCodes:e,bidsBackHandler:function(){googletag.cmd.push(function(){pbjs.setTargetingForGPTAsync(),window.googletag.pubads().refresh(a(e),d)})}})}function i(e,d){var a=[],n=o,i={};if(e.length>0){for(var r=0;r<e.length;r++)i[e[r].targetAdUnitCode]=e[r].newAdUnitCode,a.push(e[r].newAdUnitCode);for(var r=0;r<n.length;r++)val=i[n[r].code],"undefined"!=typeof val&&(pbjs.removeAdUnit(n[r].code),n[r].code=i[n[r].code]);pbjs.addAdUnits(n)}pbjs.refreshAds(a,d)}function r(){if(!pbjs.initAdserverSet){if(!SHOW_ADS_ON_PAGE_LOAD)return s(),void(pbjs.initAdserverSet=!0);if(!googletag.pubadsReady&&I<=u)return setTimeout(r,75),void I++;s(),googletag.cmd.push(function(){googletag.pubads().refresh()}),pbjs.initAdserverSet=!0}}function s(){googletag.cmd.push(function(){pbjs.que.push(function(){pbjs.setTargetingForGPTAsync()})})}function t(e,d,a){c("url"===e?'configuration matched for type: "url" Matched key: '+d:'configuration matched for type: "var" Matched var name: '+d+" matched value: "+a)}function p(){var e="";try{e=window.location.host+window.location.pathname}catch(e){c(e)}return e}function m(e){for(var d=e.split("/"),a=[],n=0;n<d.length;n++){for(var i="",r=0;r<d.length-n;r++)i+="/"+d[r];i=i.substr(1,i.length),a.push(i),a.push(i+"/")}return a}function c(){b.push(arguments),l&&window.console.log.apply(null,arguments)}var o,b=[],l=function(){return-1!==window.location.search.toLowerCase().indexOf("pbjs_debug=true")}(),I=0,u=40,w=[{url:["www.wsj.com/asia"],adUnits:[{sizeMapping:[{minWidth:960},{minWidth:640,sizes:[[300,250],[300,600]]},{minWidth:0,sizes:[[300,250],[300,600]]}],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085359}},{bidder:"newsconnect",params:{placementId:12085397}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085350}},{bidder:"newsconnect",params:{placementId:12085388}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_RAIL2",bids:[{bidder:"appnexus",params:{placementId:12085351}},{bidder:"newsconnect",params:{placementId:12085389}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_RAIL3",bids:[{bidder:"appnexus",params:{placementId:12085352}},{bidder:"newsconnect",params:{placementId:12085390}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[728,90],[970,250]]},{minWidth:640},{minWidth:0}],code:"AD_PUSH",bids:[{bidder:"appnexus",params:{placementId:12085348}},{bidder:"newsconnect",params:{placementId:12085386}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668346,network:"11067.1"}},{bidder:"aol",params:{placement:4668350,network:"11067.1"}}]}]},{url:["www.wsj.com/news/business/management"],adUnits:[{sizeMapping:[{minWidth:960},{minWidth:640,sizes:[[300,250],[300,600]]},{minWidth:0,sizes:[[300,250],[300,600]]}],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085359}},{bidder:"newsconnect",params:{placementId:12085397}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}}]},{sizeMapping:[{minWidth:960},{minWidth:640,sizes:[[300,250],[300,600]]},{minWidth:0,sizes:[[300,250],[300,600]]}],code:"AD_RAIL3",bids:[{bidder:"appnexus",params:{placementId:12085360}},{bidder:"newsconnect",params:{placementId:12085398}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085350}},{bidder:"newsconnect",params:{placementId:12085388}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_RAIL3",bids:[{bidder:"appnexus",params:{placementId:12085352}},{bidder:"newsconnect",params:{placementId:12085390}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[728,90],[970,250]]},{minWidth:640},{minWidth:0}],code:"AD_PUSH",bids:[{bidder:"appnexus",params:{placementId:12085348}},{bidder:"newsconnect",params:{placementId:12085386}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668346,network:"11067.1"}},{bidder:"aol",params:{placement:4668350,network:"11067.1"}}]}]},{url:["jp.wsj.com"],adUnits:[{sizeMapping:[{minWidth:960},{minWidth:640,sizes:[[300,250],[300,600]]},{minWidth:0,sizes:[[300,250],[300,600]]}],code:"AD_G",bids:[{bidder:"appnexus",params:{placementId:12085344}},{bidder:"newsconnect",params:{placementId:12085497}},{bidder:"rubicon",params:{zoneId:306546,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668343,network:"11067.1"}},{bidder:"aol",params:{placement:4668342,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_G",bids:[{bidder:"appnexus",params:{placementId:12085336}},{bidder:"newsconnect",params:{placementId:12085490}},{bidder:"rubicon",params:{zoneId:253396,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668349,network:"11067.1"}},{bidder:"aol",params:{placement:4668348,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_Z",bids:[{bidder:"appnexus",params:{placementId:12085343}},{bidder:"newsconnect",params:{placementId:12085496}},{bidder:"rubicon",params:{zoneId:253396,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668349,network:"11067.1"}},{bidder:"aol",params:{placement:4668348,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[728,90],[970,250]]},{minWidth:640},{minWidth:0}],code:"AD_L",bids:[{bidder:"appnexus",params:{placementId:12085337}},{bidder:"newsconnect",params:{placementId:12085491}},{bidder:"rubicon",params:{zoneId:253396,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668351,network:"11067.1"}},{bidder:"aol",params:{placement:4668352,network:"11067.1"}}]}]},{url:["www.wsj.com/news"],adUnits:[{sizeMapping:[{minWidth:960},{minWidth:640,sizes:[[300,250],[300,600]]},{minWidth:0,sizes:[[300,250],[300,600]]}],code:"AD_G",bids:[{bidder:"appnexus",params:{placementId:12085358}},{bidder:"newsconnect",params:{placementId:12085396}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_G",bids:[{bidder:"appnexus",params:{placementId:12085346}},{bidder:"newsconnect",params:{placementId:12085384}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[728,90],[970,250]]},{minWidth:640},{minWidth:0}],code:"AD_R",bids:[{bidder:"appnexus",params:{placementId:12085349}},{bidder:"newsconnect",params:{placementId:12085387}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668346,network:"11067.1"}},{bidder:"aol",params:{placement:4668350,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_Z",bids:[{bidder:"appnexus",params:{placementId:12085353}},{bidder:"newsconnect",params:{placementId:12085391}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}}]}]},{url:["jp.wsj.com/news"],adUnits:[{sizeMapping:[{minWidth:960},{minWidth:640,sizes:[[300,250],[300,600]]},{minWidth:0,sizes:[[300,250],[300,600]]}],code:"AD_G",bids:[{bidder:"appnexus",params:{placementId:12085358}},{bidder:"newsconnect",params:{placementId:12085396}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}}]},{sizeMapping:[{minWidth:960},{minWidth:640,sizes:[[300,250],[300,600]]},{minWidth:0,sizes:[[300,250],[300,600]]}],code:"AD_Z",bids:[{bidder:"appnexus",params:{placementId:12085361}},{bidder:"newsconnect",params:{placementId:12085399}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_G",bids:[{bidder:"appnexus",params:{placementId:12085346}},{bidder:"newsconnect",params:{placementId:12085384}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[728,90],[970,250]]},{minWidth:640},{minWidth:0}],code:"AD_L",bids:[{bidder:"appnexus",params:{placementId:12085347}},{bidder:"newsconnect",params:{placementId:12085385}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668346,network:"11067.1"}},{bidder:"aol",params:{placement:4668350,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_Z",bids:[{bidder:"appnexus",params:{placementId:12085353}},{bidder:"newsconnect",params:{placementId:12085391}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}}]}]},{url:["www.wsj.com/news/science"],adUnits:[{sizeMapping:[{minWidth:960},{minWidth:640,sizes:[[300,250],[300,600]]},{minWidth:0,sizes:[[300,250],[300,600]]}],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085359}},{bidder:"newsconnect",params:{placementId:12085397}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085350}},{bidder:"newsconnect",params:{placementId:12085388}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_RAIL2",bids:[{bidder:"appnexus",params:{placementId:12085351}},{bidder:"newsconnect",params:{placementId:12085389}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[728,90],[970,250]]},{minWidth:640},{minWidth:0}],code:"AD_PUSH",bids:[{bidder:"appnexus",params:{placementId:12085348}},{bidder:"newsconnect",params:{placementId:12085386}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668346,network:"11067.1"}},{bidder:"aol",params:{placement:4668350,network:"11067.1"}}]}]},{url:["www.wsj.com/articles"],adUnits:[{sizeMapping:[{minWidth:960},{minWidth:640,sizes:[[300,250]]},{minWidth:0,sizes:[[300,250]]}],code:"wsj-body-AD_G",bids:[{bidder:"appnexus",params:{placementId:12085366}},{bidder:"newsconnect",params:{placementId:12085404}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}}]},{sizeMapping:[{minWidth:960},{minWidth:640,sizes:[[300,250]]},{minWidth:0,sizes:[[300,250]]}],code:"wsj-body-AD_M2",bids:[{bidder:"appnexus",params:{placementId:12085367}},{bidder:"newsconnect",params:{placementId:12085405}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}}]},{sizeMapping:[{minWidth:960},{minWidth:640,sizes:[[300,250]]},{minWidth:0,sizes:[[300,250]]}],code:"wsj-body-AD_M3",bids:[{bidder:"appnexus",params:{placementId:12085368}},{bidder:"newsconnect",params:{placementId:12085406}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_G",bids:[{bidder:"appnexus",params:{placementId:12085346}},{bidder:"newsconnect",params:{placementId:12085384}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_Z",bids:[{bidder:"appnexus",params:{placementId:12085353}},{bidder:"newsconnect",params:{placementId:12085391}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}}]}]},{url:["www.wsj.com/news/technology"],adUnits:[{sizeMapping:[{minWidth:960},{minWidth:640,sizes:[[300,250],[300,600]]},{minWidth:0,sizes:[[300,250],[300,600]]}],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085359}},{bidder:"newsconnect",params:{placementId:12085397}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085350}},{bidder:"newsconnect",params:{placementId:12085388}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_RAIL2",bids:[{bidder:"appnexus",params:{placementId:12085351}},{bidder:"newsconnect",params:{placementId:12085389}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[728,90],[970,250]]},{minWidth:640},{minWidth:0}],code:"AD_PUSH",bids:[{bidder:"appnexus",params:{placementId:12085348}},{bidder:"newsconnect",params:{placementId:12085386}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668346,network:"11067.1"}},{bidder:"aol",params:{placement:4668350,network:"11067.1"}}]}]},{url:["www.wsj.com/news/markets"],adUnits:[{sizeMapping:[{minWidth:960},{minWidth:640,sizes:[[300,250],[300,600]]},{minWidth:0,sizes:[[300,250],[300,600]]}],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085359}},{bidder:"newsconnect",params:{placementId:12085397}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085350}},{bidder:"newsconnect",params:{placementId:12085388}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_RAIL3",bids:[{bidder:"appnexus",params:{placementId:12085352}},{bidder:"newsconnect",params:{placementId:12085390}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[728,90],[970,250]]},{minWidth:640},{minWidth:0}],code:"AD_PUSH",bids:[{bidder:"appnexus",params:{placementId:12085348}},{bidder:"newsconnect",params:{placementId:12085386}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668346,network:"11067.1"}},{bidder:"aol",params:{placement:4668350,network:"11067.1"}}]}]},{on_page_var:{name:"an_wsj_template",value:["immersive"]},adUnits:[{sizeMapping:[{minWidth:960},{minWidth:640,sizes:[[300,250]]},{minWidth:0,sizes:[[300,250]]}],code:"imm_ad_1",bids:[{bidder:"appnexus",params:{placementId:12085362}},{bidder:"newsconnect",params:{placementId:12085400}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}}]},{sizeMapping:[{minWidth:960},{minWidth:640,sizes:[[300,250]]},{minWidth:0,sizes:[[300,250]]}],code:"imm_ad_2",bids:[{bidder:"appnexus",params:{placementId:12085363}},{bidder:"newsconnect",params:{placementId:12085401}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}}]},{sizeMapping:[{minWidth:960},{minWidth:640,sizes:[[300,250]]},{minWidth:0,sizes:[[300,250]]}],code:"imm_ad_3",bids:[{bidder:"appnexus",params:{placementId:12085364}},{bidder:"newsconnect",params:{placementId:12085402}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}}]},{sizeMapping:[{minWidth:960},{minWidth:640,sizes:[[300,250]]},{minWidth:0,sizes:[[300,250]]}],code:"imm_ad_4",bids:[{bidder:"appnexus",params:{placementId:12085365}},{bidder:"newsconnect",params:{placementId:12085403}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250]]},{minWidth:640},{minWidth:0}],code:"imm_ad_1",bids:[{bidder:"appnexus",params:{placementId:12085354}},{bidder:"newsconnect",params:{placementId:12085392}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250]]},{minWidth:640},{minWidth:0}],code:"imm_ad_2",bids:[{bidder:"appnexus",params:{placementId:12085355}},{bidder:"newsconnect",params:{placementId:12085393}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250]]},{minWidth:640},{minWidth:0}],code:"imm_ad_3",bids:[{bidder:"appnexus",params:{placementId:12085356}},{bidder:"newsconnect",params:{placementId:12085394}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250]]},{minWidth:640},{minWidth:0}],code:"imm_ad_4",bids:[{bidder:"appnexus",params:{placementId:12085357}},{bidder:"newsconnect",params:{placementId:12085395}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}}]}]},{url:["www.wsj.com"],adUnits:[{sizeMapping:[{minWidth:960},{minWidth:640,sizes:[[300,250],[300,600]]},{minWidth:0,sizes:[[300,250],[300,600]]}],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085345}},{bidder:"newsconnect",params:{placementId:12085498}},{bidder:"rubicon",params:{zoneId:306546,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668343,network:"11067.1"}},{bidder:"aol",params:{placement:4668342,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085339}},{bidder:"newsconnect",params:{placementId:12085493}},{bidder:"rubicon",params:{zoneId:253396,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668349,network:"11067.1"}},{bidder:"aol",params:{placement:4668348,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_RAIL2",bids:[{bidder:"appnexus",params:{placementId:12085341}},{bidder:"newsconnect",params:{placementId:12085494}},{bidder:"rubicon",params:{zoneId:253396,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668349,network:"11067.1"}},{bidder:"aol",params:{placement:4668348,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_RAIL3",bids:[{bidder:"appnexus",params:{placementId:12085342}},{bidder:"newsconnect",params:{placementId:12085495}},{bidder:"rubicon",params:{zoneId:253396,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668349,network:"11067.1"}},{bidder:"aol",params:{placement:4668348,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[728,90],[970,250]]},{minWidth:640},{minWidth:0}],code:"AD_PUSH",bids:[{bidder:"appnexus",params:{placementId:12085338}},{bidder:"newsconnect",params:{placementId:12085492}},{bidder:"rubicon",params:{zoneId:253396,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668351,network:"11067.1"}},{bidder:"aol",params:{placement:4668352,network:"11067.1"}}]}]},{url:["www.wsj.com/europe"],adUnits:[{sizeMapping:[{minWidth:960},{minWidth:640,sizes:[[300,250],[300,600]]},{minWidth:0,sizes:[[300,250],[300,600]]}],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085359}},{bidder:"newsconnect",params:{placementId:12085397}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085350}},{bidder:"newsconnect",params:{placementId:12085388}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_RAIL2",bids:[{bidder:"appnexus",params:{placementId:12085351}},{bidder:"newsconnect",params:{placementId:12085389}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_RAIL3",bids:[{bidder:"appnexus",params:{placementId:12085352}},{bidder:"newsconnect",params:{placementId:12085390}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[728,90],[970,250]]},{minWidth:640},{minWidth:0}],code:"AD_PUSH",bids:[{bidder:"appnexus",params:{placementId:12085348}},{bidder:"newsconnect",params:{placementId:12085386}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668346,network:"11067.1"}},{bidder:"aol",params:{placement:4668350,network:"11067.1"}}]}]},{url:["www.wsj.com/livecoverage"],adUnits:[{sizeMapping:[{minWidth:960},{minWidth:640,sizes:[[300,600],[300,250]]},{minWidth:0,sizes:[[300,600],[300,250]]}],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085359}},{bidder:"newsconnect",params:{placementId:12085397}},{bidder:"rubicon",params:{zoneId:306554,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668341,network:"11067.1"}},{bidder:"aol",params:{placement:4668340,network:"11067.1"}}]},{sizeMapping:[{minWidth:960,sizes:[[300,250],[300,600]]},{minWidth:640},{minWidth:0}],code:"AD_RAIL1",bids:[{bidder:"appnexus",params:{placementId:12085350}},{bidder:"newsconnect",params:{placementId:12085388}},{bidder:"rubicon",params:{zoneId:253356,siteId:17647,accountId:9673}},{bidder:"aol",params:{placement:4668347,network:"11067.1"}},{bidder:"aol",params:{placement:4668345,network:"11067.1"}}]}]}];if(c("Running HBW: 1.3.3 and prebid.js: 0.31.0"),w.forEach(function(d){if(d.on_page_var)try{e(d)&&(o=d.adUnits)}catch(e){}}),o||(o=function(e){if(e){var d,a=p(),n=m(a);return n.some(function(a){return e.some(function(e){if(e&&e.url)return e.url.forEach(function(n){n===a&&(d=e.adUnits,t("url",a))}),!!d})}),d}}(w)),!o)return c("Error: No valid configuration found for site"),void r();pbjs.refreshAds=n,pbjs.infiniteScroll=i,pbjs.que.push(function(){pbjs.enableAnalytics([{provider:"appnexus",options:{memberId:7214}}]),pbjs.setPriceGranularity({buckets:[{max:10,cap:"False",increment:.01,min:.01},{max:20,cap:"False",increment:.05,min:10},{max:95,cap:"True",increment:.5,min:20}],precision:"2"}),pbjs.enableSendAllBids(),pbjs.onEvent("requestBids",function(){var e=Object.assign||function(e){for(var d=1;d<arguments.length;d++){var a=arguments[d];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(e){var d=new RegExp("(?:^"+e+"|; *"+e+")=(.*?)(?:;|$)","g"),a=d.exec(document.cookie);return null===a?null:a[1]}("_ncg_id_");pbjs.adUnits.map(function(e){return e.bids.filter(function(e){return"newsconnect"===e.bidder})}).reduce(function(e,d){return e.concat(d)}).forEach(function(a){return a.params.user=e({},a.params.user,{external_uid:d})})}),pbjs.onEvent("requestBids",function(){window.pbjs.ready=!1}),pbjs.onEvent("setTargeting",function(){window.pbjs.ready=!0}),pbjs.aliasBidder("appnexus","districtm"),pbjs.aliasBidder("appnexusAst","newsconnect"),pbjs.addAdUnits(o),REQUEST_BIDS_ON_PAGE_LOAD&&pbjs.requestBids({bidsBackHandler:function(e){r()}})}),pbjs.debugReplayLogs=function(){for(var e=0;e<b.length;e++)window.console.log.apply(null,b[e])},(!0===REQUEST_BIDS_ON_PAGE_LOAD||!0===SHOW_ADS_ON_PAGE_LOAD&&!1===REQUEST_BIDS_ON_PAGE_LOAD)&&setTimeout(r,PREBID_TIMEOUT)}();
/* prebid.js v0.31.0
Updated : 2017-10-23 */
!(function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r=window.pbjsChunk;window.pbjsChunk=function(i,o,s){for(var a,u,f,l=0,d=[];l<i.length;l++)u=i[l],n[u]&&d.push(n[u][0]),n[u]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);for(r&&r(i,o,s);d.length;)d.shift()();if(s)for(l=0;l<s.length;l++)f=t(t.s=s[l]);return f};var i={},n={108:0};t.e=function(e){if(0===n[e])return callback.call(null,t);console.error("webpack chunk not found and jsonp disabled")},t.m=e,t.c=i,t.d=function(e,r,i){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t.oe=function(e){throw console.error(e),e},t(t.s=267)})([(function(e,t,r){"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(){return b()+Math.random().toString(16).substr(2)}function o(e){if(t.isArray(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1]))return e[0]+"x"+e[1]}function s(){return window.console&&window.console.log}function a(e,t,r){return r.indexOf(e)===t}function u(e,t){return e.concat(t)}function f(e){return Object.keys(e)}function l(e,t){return e[t]}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.parseSizesInput=function(e){var t=[];if("string"==typeof e){var r=e.split(","),i=/^(\d)+x(\d)+$/i;if(r)for(var n in r)T(r,n)&&r[n].match(i)&&t.push(r[n])}else if("object"===(void 0===e?"undefined":c(e))){var s=e.length;if(s>0)if(2===s&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(o(e));else for(var a=0;a<s;a++)t.push(o(e[a]))}return t},t.parseGPTSingleSizeArray=o,t.uniques=a,t.flatten=u,t.getBidRequest=function(e){return pbjs._bidsRequested.map((function(t){return t.bids.find((function(t){return t.bidId===e}))})).find((function(e){return e}))},t.getKeys=f,t.getValue=l,t.getBidderCodes=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits).map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(u,[])})).reduce(u).filter(a)},t.isGptPubadsDefined=function(){if(window.googletag&&t.isFn(window.googletag.pubads)&&t.isFn(window.googletag.pubads().getSlots))return!0},t.getHighestCpm=function(e,t){return e.cpm===t.cpm?e.timeToRespond>t.timeToRespond?t:e:e.cpm<t.cpm?t:e},t.shuffle=function(e){for(var t=e.length;t>0;){var r=Math.floor(Math.random()*t),i=e[--t];e[t]=e[r],e[r]=i}return e},t.adUnitsFilter=function(e,t){return e.includes(t&&t.placementCode||t&&t.adUnitCode)},t.isSrcdocSupported=function(e){return e.defaultView&&e.defaultView.frameElement&&"srcdoc"in e.defaultView.frameElement&&!/firefox/i.test(navigator.userAgent)},t.cloneJson=function(e){return JSON.parse(JSON.stringify(e))},t.inIframe=function(){try{return window.self!==window.top}catch(e){return!0}},t.isSafariBrowser=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},t.replaceAuctionPrice=function(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)},t.getBidderRequestAllAdUnits=function(e){return pbjs._bidsRequested.find((function(t){return t.bidderCode===e}))},t.getBidderRequest=function(e,t){return pbjs._bidsRequested.find((function(r){return r.bids.filter((function(r){return r.bidder===e&&r.placementCode===t})).length>0}))||{start:null,requestId:null}},t.cookiesAreEnabled=function(){return!(!window.navigator.cookieEnabled&&!document.cookie.length)||(window.document.cookie="prebid.cookieTest",-1!=window.document.cookie.indexOf("prebid.cookieTest"))},t.delayExecution=function(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got "+t);var r=0;return function(){++r===t&&e.apply(null,arguments)}},t.groupBy=function(e,t){return e.reduce((function(e,r){return(e[r[t]]=e[r[t]]||[]).push(r),e}),{})},t.deepAccess=function(e,t){t=String(t).split(".");for(var r=0;r<t.length;r++)if(void 0===(e=e[t[r]]))return;return e},t.getDefinedParams=function(e,t){return t.filter((function(t){return e[t]})).reduce((function(t,r){return d(t,i({},r,e[r]))}),{})},t.isValidMediaTypes=function(e){var t=["banner","native","video"];return!!Object.keys(e).every((function(e){return t.includes(e)}))&&(!e.video||!e.video.context||["instream","outstream"].includes(e.video.context))};var h=r(9),p=r(4),g=!1,y=Object.prototype.toString,v=null;try{v=console.info.bind(window.console)}catch(e){}t.replaceTokenInString=function(e,t,r){return this._each(t,(function(t,i){t=void 0===t?"":t;var n=r+i.toUpperCase()+r,o=new RegExp(n,"g");e=e.replace(o,t)})),e};var b=(function(){var e=0;return function(){return++e}})();t.getUniqueIdentifierStr=n,t.generateUUID=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},t.getBidIdParameter=function(e,t){return t&&t[e]?t[e]:""},t.tryAppendQueryString=function(e,t,r){return r?e+=t+"="+encodeURIComponent(r)+"&":e},t.parseQueryStringParameters=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t+=r+"="+encodeURIComponent(e[r])+"&");return t},t.transformAdServerTargetingObj=function(e){return e&&Object.getOwnPropertyNames(e).length>0?f(e).map((function(t){return t+"="+encodeURIComponent(l(e,t))})).join("&"):""},t.getTopWindowLocation=function(){var e=void 0;try{window.top.location.toString(),e=window.top.location}catch(t){e=window.location}return e},t.getTopWindowUrl=function(){var e=void 0;try{e=this.getTopWindowLocation().href}catch(t){e=""}return e},t.logWarn=function(e){E()&&console.warn&&console.warn("WARNING: "+e)},t.logInfo=function(e,t){E()&&s()&&v&&(t&&0!==t.length||(t=""),v("INFO: "+e+(""===t?"":" : params : "),t))},t.logMessage=function(e){E()&&s()&&console.log("MESSAGE: "+e)},t.hasConsoleLogger=s;var m=s()?window.console.error?"error":"log":"",E=function(){if(!1===h.config.getConfig("debug")&&!1===g){var e="TRUE"===w(p.DEBUG_MODE).toUpperCase();h.config.setConfig({debug:e}),g=!0}return!!h.config.getConfig("debug")};t.debugTurnedOn=E,t.logError=function(e,t,r){var i=t||"ERROR";E()&&s()&&console[m](console,i+": "+e,r||"")},t.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.id=n(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e};var w=function(e){var t="[\\?&]"+e+"=([^&#]*)",r=new RegExp(t).exec(window.location.search);return null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))};t.getParameterByName=w,t.hasValidBidRequest=function(e,t,r){for(var i=!1,n=0;n<t.length;n++)if(i=!1,this._each(e,(function(e,r){r===t[n]&&(i=!0)})),!i)return this.logError("Params are missing for bid request. One of these required paramaters are missing: "+t,r),!1;return!0},t.addEventHandler=function(e,t,r){e.addEventListener?e.addEventListener(t,r,!0):e.attachEvent&&e.attachEvent("on"+t,r)},t.isA=function(e,t){return y.call(e)==="[object "+t+"]"},t.isFn=function(e){return this.isA(e,"Function")},t.isStr=function(e){return this.isA(e,"String")},t.isArray=function(e){return this.isA(e,"Array")},t.isNumber=function(e){return this.isA(e,"Number")},t.isEmpty=function(e){if(!e)return!0;if(this.isArray(e)||this.isStr(e))return!(e.length>0);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0},t.isEmptyStr=function(e){return this.isStr(e)&&(!e||0===e.length)},t._each=function(e,t){if(!this.isEmpty(e)){if(this.isFn(e.forEach))return e.forEach(t,this);var r=0,i=e.length;if(i>0)for(;r<i;r++)t(e[r],r,e);else for(r in e)hasOwnProperty.call(e,r)&&t.call(this,e[r],r)}},t.contains=function(e,t){if(this.isEmpty(e))return!1;if(this.isFn(e.indexOf))return-1!==e.indexOf(t);for(var r=e.length;r--;)if(e[r]===t)return!0;return!1},t.indexOf=(function(){if(Array.prototype.indexOf)return Array.prototype.indexOf})(),t._map=function(e,t){if(this.isEmpty(e))return[];if(this.isFn(e.map))return e.map(t);var r=[];return this._each(e,(function(i,n){r.push(t(i,n,e))})),r};var T=function(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]};t.insertElement=function(e,t,r){t=t||document;var i=void 0;i=r?t.getElementsByTagName(r):t.getElementsByTagName("head");try{(i=i.length?i:t.getElementsByTagName("body")).length&&(i=i[0]).insertBefore(e,i.firstChild)}catch(e){}},t.triggerPixel=function(e){(new Image).src=e},t.insertUserSyncIframe=function(e){var r=this.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),i=document.createElement("div");i.innerHTML=r;var n=i.firstChild;t.insertElement(n)},t.createTrackPixelHtml=function(e){if(!e)return"";var t='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return t+='<img src="'+encodeURI(e)+'"></div>'},t.createTrackPixelIframeHtml=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?(r&&(e=encodeURI(e)),i&&(i='sandbox="'+i+'"'),"<iframe "+i+' id="'+t.getUniqueIdentifierStr()+'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0p;width:0p;display:none;"\n      scrolling="no"\n      src="'+e+'">\n    </iframe>'):""},t.getIframeDocument=function(e){if(e){var t=void 0;try{t=e.contentWindow?e.contentWindow.document:e.contentDocument.document?e.contentDocument.document:e.contentDocument}catch(e){this.logError("Cannot get iframe document",e)}return t}},t.getValueString=function(e,t,r){return void 0===t||null===t?r:this.isStr(t)?t:this.isNumber(t)?t.toString():void this.logWarn("Unsuported type for param: "+e+" required type: String")}}),(function(e,t,r){"use strict";function i(e){var t=e.bidderCode,r=e.requestId,i=e.bidderRequestId;return e.adUnits.map((function(e){return e.bids.filter((function(e){return e.bidder===t})).map((function(t){var n=e.sizes;if(e.sizeMapping){var o=(0,u.mapSizes)(e);if(""===o)return"";n=o}e.mediaTypes&&(d.isValidMediaTypes(e.mediaTypes)?t=s({},t,{mediaTypes:e.mediaTypes}):d.logError("mediaTypes is not correctly configured for adunit "+e.code));var l=e.nativeParams||d.deepAccess(e,"mediaTypes.native");return l&&(t=s({},t,{nativeParams:(0,f.processNativeAdUnitParams)(l)})),t=s({},t,(0,a.getDefinedParams)(e,["mediaType","renderer"])),s({},t,{placementCode:e.code,transactionId:e.transactionId,sizes:n,bidId:t.bid_id||d.getUniqueIdentifierStr(),bidderRequestId:i,requestId:r})}))})).reduce(a.flatten,[]).filter((function(e){return""!==e}))}function n(e){var t=[];return d.parseSizesInput(e.sizes).forEach((function(e){var r=e.split("x"),i={w:parseInt(r[0]),h:parseInt(r[1])};t.push(i)})),t}function o(e){var r=[];return t.videoAdapters.includes(e)&&r.push("video"),f.nativeAdapters.includes(e)&&r.push("native"),r}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},a=r(0),u=r(46),f=r(13),l=r(15),d=r(0),c=r(4),h=r(10),p=void 0,g={};t.bidderRegistry=g;var y={endpoint:c.S2S.DEFAULT_ENDPOINT,adapter:c.S2S.ADAPTER,syncEndpoint:c.S2S.SYNC_ENDPOINT},v={};v.random=!0,v.fixed=!0;var b={},m="random";t.callBids=function(e){var t=e.adUnits,r=e.cbTimeout,o=d.generateUUID(),s=Date.now(),f={timestamp:s,requestId:o,timeout:r};h.emit(c.EVENTS.AUCTION_INIT,f);var l=(0,a.getBidderCodes)(t);"random"===m&&(l=(0,a.shuffle)(l));var v=g[y.adapter];v&&(v.setConfig(y),v.queueSync({bidderCodes:l}));var b=[],E=!1;if(y.enabled){(E=y.testing&&void 0!==p)&&(b=p.getSourceBidderMap(t)[p.CLIENT]);var w=y.bidders;l=l.filter((function(e){return!w.includes(e)||b.includes(e)}));var T=d.cloneJson(t);T.forEach((function(e){e.sizeMapping&&(e.sizes=(0,u.mapSizes)(e),delete e.sizeMapping),e.sizes=n(e),e.bids=e.bids.filter((function(e){return w.includes(e.bidder)&&(!E||e.finalSource!==p.CLIENT)})).map((function(e){return e.bid_id=d.getUniqueIdentifierStr(),e}))})),T=T.filter((function(e){return 0!==e.bids.length}));var S=d.generateUUID();w.forEach((function(e){var t=d.getUniqueIdentifierStr(),r={bidderCode:e,requestId:o,bidderRequestId:t,tid:S,bids:i({bidderCode:e,requestId:o,bidderRequestId:t,adUnits:T}),start:(new Date).getTime(),auctionStart:s,timeout:y.timeout,src:c.S2S.SRC};0!==r.bids.length&&pbjs._bidsRequested.push(r)}));var I={tid:S,ad_units:T};d.logMessage("CALLING S2S HEADER BIDDERS ==== "+w.join(",")),I.ad_units.length&&v.callBids(I)}var A=[],_=d.cloneJson(t);_.forEach((function(e){e.bids=e.bids.filter((function(e){return!E||e.finalSource!==p.SERVER}))})),_=_.filter((function(e){return 0!==e.bids.length})),l.forEach((function(e){if(g[e]){var t=d.getUniqueIdentifierStr(),n={bidderCode:e,requestId:o,bidderRequestId:t,bids:i({bidderCode:e,requestId:o,bidderRequestId:t,adUnits:_}),auctionStart:s,timeout:r};n.bids&&0!==n.bids.length&&(pbjs._bidsRequested.push(n),A.push(n))}})),A.forEach((function(e){e.start=(new Date).getTime();var t=g[e.bidderCode];t?e.bids&&0!==e.bids.length&&(d.logMessage("CALLING BIDDER ======= "+e.bidderCode),h.emit(c.EVENTS.BID_REQUESTED,e),t.callBids(e)):d.logError("Adapter trying to be called which does not exist: "+e.bidderCode+" adaptermanager.callBids")}))},t.videoAdapters=[],t.registerBidAdapter=function(e,r){var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).supportedMediaTypes,n=void 0===i?[]:i;e&&r?"function"==typeof e.callBids?(g[r]=e,n.includes("video")&&t.videoAdapters.push(r),n.includes("native")&&f.nativeAdapters.push(r)):d.logError("Bidder adaptor error for bidder code: "+r+"bidder must implement a callBids() function"):d.logError("bidAdaptor or bidderCode not specified")},t.aliasBidAdapter=function(e,t){if(void 0===g[t]){var r=g[e];if(void 0===r)d.logError('bidderCode "'+e+'" is not an existing bidder.',"adaptermanager.aliasBidAdapter");else try{var i=void 0,n=o(e);if(r.constructor.prototype!=Object.prototype)(i=new r.constructor).setBidderCode(t);else{var a=r.getSpec();i=(0,l.newBidder)(s({},a,{code:t}))}this.registerBidAdapter(i,t,{supportedMediaTypes:n})}catch(t){d.logError(e+" bidder does not currently support aliasing.","adaptermanager.aliasBidAdapter")}}else d.logMessage('alias name "'+t+'" has been already specified.')},t.registerAnalyticsAdapter=function(e){var t=e.adapter,r=e.code;t&&r?"function"==typeof t.enableAnalytics?(t.code=r,b[r]=t):d.logError('Prebid Error: Analytics adaptor error for analytics "'+r+'"\n        analytics adapter must implement an enableAnalytics() function'):d.logError("Prebid Error: analyticsAdapter or analyticsCode not specified")},t.enableAnalytics=function(e){d.isArray(e)||(e=[e]),d._each(e,(function(e){var t=b[e.provider];t?t.enableAnalytics(e):d.logError("Prebid Error: no analytics adapter found in registry for\n        "+e.provider+".")}))},t.setBidderSequence=function(e){v[e]?m=e:d.logWarn("Invalid order: "+e+". Bidder Sequence was not set.")},t.setS2SConfig=function(e){y=e},t.setS2STestingModule=function(e){p=e}}),(function(e,t,r){"use strict";function i(){return(new Date).getTime()}function n(e){return e.bidderCode}function o(e){return e.bidder}function s(e){var t=this;return pbjs._bidsRequested.map((function(r){return r.bids.filter(b.adUnitsFilter.bind(t,pbjs._adUnitCodes)).filter((function(t){return t.placementCode===e}))})).reduce(b.flatten,[]).map((function(e){return"indexExchange"===e.bidder?e.sizes.length:1})).reduce(a,0)===pbjs._bidsReceived.filter((function(t){return t.adUnitCode===e})).length}function a(e,t){return e+t}function u(){return pbjs._bidsRequested.map((function(e){return e.bids})).reduce(b.flatten,[]).filter(b.adUnitsFilter.bind(this,pbjs._adUnitCodes)).map((function(e){return"indexExchange"===e.bidder?e.sizes.length:1})).reduce((function(e,t){return e+t}),0)===pbjs._bidsReceived.filter(b.adUnitsFilter.bind(this,pbjs._adUnitCodes)).length}function f(e,t){var r={},i=pbjs.bidderSettings;return t&&i&&l(r,g(),t),e&&t&&i&&i[e]&&i[e][A.JSON_MAPPING.ADSERVER_TARGETING]?(l(r,i[e],t),t.alwaysUseBid=i[e].alwaysUseBid,t.sendStandardTargeting=i[e].sendStandardTargeting):N[e]&&(l(r,N[e],t),t.alwaysUseBid=N[e].alwaysUseBid,t.sendStandardTargeting=N[e].sendStandardTargeting),t.native&&(r=y({},r,(0,E.getNativeTargeting)(t))),r}function l(e,t,r){var i=t[A.JSON_MAPPING.ADSERVER_TARGETING];return r.size=r.getSize(),P._each(i,(function(i){var n=i.key,o=i.val;if(e[n]&&P.logWarn("The key: "+n+" is getting ovewritten"),P.isFn(o))try{o=o(r)}catch(e){P.logError("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&"hb_deal"!==n||!P.isEmptyStr(o)&&null!==o&&void 0!==o?e[n]=o:P.logInfo("suppressing empty key '"+n+"' from adserver targeting")})),e}function d(e){var t=[e];c(O.byAdUnit,t)}function c(e,t){var r=this;P.isArray(e)&&e.forEach((function(e){var i=t||pbjs._adUnitCodes,n=[pbjs._bidsReceived.filter(b.adUnitsFilter.bind(r,i)).reduce(h,{})];e.apply(pbjs,n)}))}function h(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}function p(e){var t=e.bidderCode,r=e.cpm,i=void 0;if(pbjs.bidderSettings&&(t&&pbjs.bidderSettings[t]&&"function"==typeof pbjs.bidderSettings[t].bidCpmAdjustment?i=pbjs.bidderSettings[t].bidCpmAdjustment:pbjs.bidderSettings[A.JSON_MAPPING.BD_SETTING_STANDARD]&&"function"==typeof pbjs.bidderSettings[A.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment&&(i=pbjs.bidderSettings[A.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment),i))try{r=i(e.cpm,y({},e))}catch(e){P.logError("Error during bid adjustment","bidmanager.js",e)}r>=0&&(e.cpm=r)}function g(){var e=I.config.getConfig("priceGranularity"),t=pbjs.bidderSettings;return t[A.JSON_MAPPING.BD_SETTING_STANDARD]||(t[A.JSON_MAPPING.BD_SETTING_STANDARD]={}),t[A.JSON_MAPPING.BD_SETTING_STANDARD][A.JSON_MAPPING.ADSERVER_TARGETING]||(t[A.JSON_MAPPING.BD_SETTING_STANDARD][A.JSON_MAPPING.ADSERVER_TARGETING]=[{key:"hb_bidder",val:function(e){return e.bidderCode}},{key:"hb_adid",val:function(e){return e.adId}},{key:"hb_pb",val:function(t){return e===A.GRANULARITY_OPTIONS.AUTO?t.pbAg:e===A.GRANULARITY_OPTIONS.DENSE?t.pbDg:e===A.GRANULARITY_OPTIONS.LOW?t.pbLg:e===A.GRANULARITY_OPTIONS.MEDIUM?t.pbMg:e===A.GRANULARITY_OPTIONS.HIGH?t.pbHg:e===A.GRANULARITY_OPTIONS.CUSTOM?t.pbCg:void 0}},{key:"hb_size",val:function(e){return e.size}},{key:"hb_deal",val:function(e){return e.dealId}}]),t[A.JSON_MAPPING.BD_SETTING_STANDARD]}var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},v=(function(){function e(e,t){var r=[],i=!0,n=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),b=r(0),m=r(28),E=r(13),w=r(29),T=r(47),S=r(19),I=r(9),A=r(4),_=A.EVENTS.AUCTION_END,P=r(0),R=r(10),O={byAdUnit:[],all:[],oneTime:null,timer:!1},N={};t.getTimedOutBidders=function(){return pbjs._bidsRequested.map(n).filter(b.uniques).filter((function(e){return pbjs._bidsReceived.map(o).filter(b.uniques).indexOf(e)<0}))},t.bidsBackAll=function(){return u()},t.addBidResponse=function(e,r){function n(t){if((t.width||0===t.width)&&(t.height||0===t.height))return!0;var r=(0,b.getBidderRequest)(t.bidderCode,e),i=r&&r.bids&&r.bids[0]&&r.bids[0].sizes,n=P.parseSizesInput(i);if(1===n.length){var o=n[0].split("x"),s=v(o,2),a=s[0],u=s[1];return t.width=a,t.height=u,!0}return!1}function o(){if(r.timeToRespond>pbjs.cbTimeout+pbjs.timeoutBuffer){t.executeCallback(!0)}}function a(){R.emit(A.EVENTS.BID_RESPONSE,r),pbjs._bidsReceived.push(r),r.adUnitCode&&s(r.adUnitCode)&&d(r.adUnitCode),u()&&t.executeCallback()}(function(){function t(e){return"Invalid bid from "+r.bidderCode+". Ignoring bid: "+e}return r?e?(0,b.getBidderRequest)(r.bidderCode,e).start?"native"!==r.mediaType||(0,E.nativeBidIsValid)(r)?"video"!==r.mediaType||(0,w.isValidVideoBid)(r)?!("banner"===r.mediaType&&!n(r)&&(P.logError(t("Banner bids require a width and height")),1)):(P.logError(t("Video bid does not have required vastUrl or renderer property")),!1):(P.logError(t("Native bid missing some required properties.")),!1):(P.logError(t("Cannot find valid matching bid request.")),!1):(P.logError(t("No adUnitCode was supplied to addBidResponse.")),!1):(P.logError("Some adapter tried to add an undefined bid for "+e+"."),!1)})()&&(function(){var t=(0,b.getBidderRequest)(r.bidderCode,e);y(r,{requestId:t.requestId,responseTimestamp:i(),requestTimestamp:t.start,cpm:parseFloat(r.cpm)||0,bidder:r.bidderCode,adUnitCode:e}),r.timeToRespond=r.responseTimestamp-r.requestTimestamp,R.emit(A.EVENTS.BID_ADJUSTMENT,r);var n=t.bids&&t.bids[0]&&t.bids[0].renderer;n&&(r.renderer=S.Renderer.install({url:n.url}),r.renderer.setRender(n.render));var o=(0,m.getPriceBucketString)(r.cpm,I.config.getConfig("customPriceBucket"),I.config.getConfig("currency.granularityMultiplier"));r.pbLg=o.low,r.pbMg=o.med,r.pbHg=o.high,r.pbAg=o.auto,r.pbDg=o.dense,r.pbCg=o.custom;var s;r.bidderCode&&(r.cpm>0||r.dealId)&&(s=f(r.bidderCode,r)),r.adserverTargeting=y(r.adserverTargeting||{},s)}(),"video"===r.mediaType?(function(e){I.config.getConfig("usePrebidCache")?(0,T.store)([e],(function(t,r){t?P.logWarn("Failed to save to the video cache: "+t+". Video bid must be discarded."):(e.videoCacheKey=r[0].uuid,e.vastUrl||(e.vastUrl=(0,T.getCacheUrl)(e.videoCacheKey)),a(e)),o()})):(a(e),o())})(r):(a(r),o()))},t.getKeyValueTargetingPairs=function(){return f.apply(void 0,arguments)},t.registerDefaultBidderSetting=function(e,t){N[e]=t},t.executeCallback=function(e){if(!e&&O.timer&&clearTimeout(O.timer),!0!==O.all.called&&(c(O.all),O.all.called=!0,e)){var r=t.getTimedOutBidders();r.length&&R.emit(A.EVENTS.BID_TIMEOUT,r)}if(O.oneTime){R.emit(_);try{c([O.oneTime])}catch(e){P.logError("Error executing bidsBackHandler",null,e)}finally{O.oneTime=null,O.timer=!1,pbjs.clearAuction()}}},t.externalCallbackReset=function(){O.all.called=!1},t.addOneTimeCallback=function(e,t){O.oneTime=e,O.timer=t},t.addCallback=function(e,t,r){t.id=e,A.CB.TYPE.ALL_BIDS_BACK===r?O.all.push(t):A.CB.TYPE.AD_UNIT_BIDS_BACK===r&&O.byAdUnit.push(t)},R.on(A.EVENTS.BID_ADJUSTMENT,(function(e){p(e)})),t.adjustBids=function(){return p.apply(void 0,arguments)},t.getStandardBidderAdServerTargeting=function(){return g()[A.JSON_MAPPING.ADSERVER_TARGETING]}}),(function(e,t,r){"use strict";function i(e,t){var r=t&&t.bidId||n.getUniqueIdentifierStr(),i=e||0;this.bidderCode=t&&t.bidder||"",this.width=0,this.height=0,this.statusMessage=(function(){switch(i){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}})(),this.adId=r,this.mediaType="banner",this.getStatusCode=function(){return i},this.getSize=function(){return this.width+"x"+this.height}}var n=r(0);t.createBid=function(e,t){return new i(e,t)}}),(function(e,t){e.exports={JSON_MAPPING:{PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},REPO_AND_VERSION:"prebid_prebid_0.31.0",DEBUG_MODE:"pbjs_debug",STATUS:{GOOD:1,NO_BID:2},CB:{TYPE:{ALL_BIDS_BACK:"allRequestedBidsBack",AD_UNIT_BIDS_BACK:"adUnitBidsBack",BID_WON:"bidWon",REQUEST_BIDS:"requestBids"}},EVENTS:{AUCTION_INIT:"auctionInit",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",BID_WON:"bidWon",SET_TARGETING:"setTargeting",REQUEST_BIDS:"requestBids",ADD_AD_UNITS:"addAdUnits"},EVENT_ID_PATHS:{bidWon:"adUnitCode"},GRANULARITY_OPTIONS:{LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},TARGETING_KEYS:["hb_bidder","hb_adid","hb_pb","hb_size","hb_deal"],S2S:{DEFAULT_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/auction",SRC:"s2s",ADAPTER:"prebidServer",SYNC_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/cookie_sync",SYNCED_BIDDERS_KEY:"pbjsSyncs"}}}),(function(e,t,r){"use strict";function i(e,t){var r=document.createElement("script");r.type="text/javascript",r.async=!0,t&&"function"==typeof t&&(r.readyState?r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,t())}:r.onload=function(){t()}),r.src=e;var i=document.getElementsByTagName("head");(i=i.length?i:document.getElementsByTagName("body")).length&&(i=i[0]).insertBefore(r,i.firstChild)}var n=r(0),o={};t.loadScript=function(e,t,r){e?r?o[e]?t&&"function"==typeof t&&(o[e].loaded?t():o[e].callbacks.push(t)):(o[e]={loaded:!1,callbacks:[]},t&&"function"==typeof t&&o[e].callbacks.push(t),i(e,(function(){o[e].loaded=!0;try{for(var t=0;t<o[e].callbacks.length;t++)o[e].callbacks[t]()}catch(e){n.logError("Error executing callback","adloader.js:loadScript",e)}}))):i(e,t):n.logError("Error attempting to request empty URL","adloader.js:loadScript")}}),(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.setAjaxTimeout=function(e){u=e},t.ajax=function(e,t,r){var f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var l=void 0,d=!1,c=f.method||(r?"POST":"GET"),h="object"===(void 0===t?"undefined":n(t))?t:{success:function(){s.logMessage("xhr success")},error:function(e){s.logError("xhr error",null,e)}};if("function"==typeof t&&(h.success=t),window.XMLHttpRequest?void 0===(l=new window.XMLHttpRequest).responseType&&(d=!0):d=!0,d?((l=new window.XDomainRequest).onload=function(){h.success(l.responseText,l)},l.onerror=function(){h.error("error",l)},l.ontimeout=function(){h.error("timeout",l)},l.onprogress=function(){s.logMessage("xhr onprogress")}):l.onreadystatechange=function(){if(l.readyState===a){var e=l.status;e>=200&&e<300||304===e?h.success(l.responseText,l):h.error(l.statusText,l)}},"GET"===c&&r){var p=(0,o.parse)(e,f);i(p.search,r),e=(0,o.format)(p)}l.open(c,e),l.timeout=u,d||(f.withCredentials&&(l.withCredentials=!0),s._each(f.customHeaders,(function(e,t){l.setRequestHeader(t,e)})),f.preflight&&l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.setRequestHeader("Content-Type",f.contentType||"text/plain")),l.send("POST"===c&&r)}catch(e){s.logError("xhr construction",e)}};var o=r(11),s=r(0),a=4,u=3e3}),(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}}),,(function(e,t,r){"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(){function e(e){return Object.keys(g).find((function(t){return e===g[t]}))}function t(t){if(!t)return u.logError("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof t)e(t)||u.logWarn("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if("object"===(void 0===t?"undefined":s(t))&&!(0,a.isValidPriceConfig)(t))return u.logError("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}function r(e,t){var r=t;"string"!=typeof e&&(r=e,e=y);{if("function"==typeof r)return v.push({topic:e,callback:r}),function(){v.splice(v.indexOf(t),1)};u.logError("listener must be a function")}}function n(e){var t=Object.keys(e);v.filter((function(e){return t.includes(e.topic)})).forEach((function(t){t.callback(i({},t.topic,e[t.topic]))})),v.filter((function(e){return e.topic===y})).forEach((function(t){return t.callback(e)}))}var v=[],b={_debug:f,get debug(){return pbjs.logging||!1===pbjs.logging?pbjs.logging:this._debug},set debug(e){this._debug=e},_bidderTimeout:l,get bidderTimeout(){return pbjs.bidderTimeout||this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:d,get publisherDomain(){return pbjs.publisherDomain||this._publisherDomain},set publisherDomain(e){this._publisherDomain=e},_cookieSyncDelay:c,get cookieSyncDelay(){return pbjs.cookieSyncDelay||this._cookieSyncDelay},set cookieSyncDelay(e){this._cookieSyncDelay=e},_priceGranularity:g.MEDIUM,set priceGranularity(r){t(r)&&("string"==typeof r?this._priceGranularity=e(r)?r:g.MEDIUM:"object"===(void 0===r?"undefined":s(r))&&(this._customPriceBucket=r,this._priceGranularity=g.CUSTOM,u.logMessage("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_sendAllBids:h,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},set bidderSequence(e){pbjs.setBidderSequence(e)},set s2sConfig(e){pbjs.setS2SConfig(e)},userSync:p};return{getConfig:function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0];return e?u.deepAccess(b,e):b}return r.apply(void 0,arguments)},setConfig:function(e){"object"===(void 0===e?"undefined":s(e))?(o(b,e),n(e)):u.logError("setConfig options must be an object")}}}Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.newConfig=n;var a=r(28),u=r(0),f=!1,l=3e3,d=window.location.origin,c=100,h=!1,p={syncEnabled:!0,pixelEnabled:!0,syncsPerBidder:5,syncDelay:3e3},g={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},y="*";t.config=n()}),(function(e,t,r){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},n=r(0),o=r(4),s=Array.prototype.slice,a=Array.prototype.push,u=n._map(o.EVENTS,(function(e){return e})),f=o.EVENT_ID_PATHS,l=[];e.exports=(function(){function e(e,t){n.logMessage("Emitting event for: "+e);var i=t[0]||{},o=i[f[e]],s=r[e]||{que:[]},u=n._map(s,(function(e,t){return t})),d=[];l.push({eventType:e,args:i,id:o}),o&&n.contains(u,o)&&a.apply(d,s[o].que),a.apply(d,s.que),n._each(d,(function(e){if(e)try{e.apply(null,t)}catch(e){n.logError("Error executing handler:","events.js",e)}}))}function t(e){return n.contains(u,e)}var r={},o={};return o.on=function(e,i,o){if(t(e)){var s=r[e]||{que:[]};o?(s[o]=s[o]||{que:[]},s[o].que.push(i)):s.que.push(i),r[e]=s}else n.logError("Wrong event name : "+e+" Valid event names :"+u)},o.emit=function(t){e(t,s.call(arguments,1))},o.off=function(e,t,i){var o=r[e];n.isEmpty(o)||n.isEmpty(o.que)&&n.isEmpty(o[i])||i&&(n.isEmpty(o[i])||n.isEmpty(o[i].que))||(i?n._each(o[i].que,(function(e){var r=o[i].que;e===t&&r.splice(n.indexOf.call(r,e),1)})):n._each(o.que,(function(e){var r=o.que;e===t&&r.splice(n.indexOf.call(r,e),1)})),r[e]=o)},o.get=function(){return r},o.getEvents=function(){var e=[];return n._each(l,(function(t){var r=i({},t);e.push(r)})),e},o})()}),(function(e,t,r){"use strict";function i(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,t){var r=t.split("="),i=o(r,2),n=i[0],s=i[1];return/\[\]$/.test(n)?(e[n=n.replace("[]","")]=e[n]||[],e[n].push(s)):e[n]=s||"",e}),{}):{}}function n(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return t+"[]="+e})).join("&"):t+"="+e[t]})).join("&")}Object.defineProperty(t,"__esModule",{value:!0});var o=(function(){function e(e,t){var r=[],i=!0,n=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})();t.parseQS=i,t.formatQS=n,t.parse=function(e,t){var r=document.createElement("a");return t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?r.href=e:r.href=decodeURIComponent(e),{protocol:(r.protocol||"").replace(/:$/,""),hostname:r.hostname,port:+r.port,pathname:r.pathname.replace(/^(?!\/)/,"/"),search:i(r.search||""),hash:(r.hash||"").replace(/^#/,""),host:r.host||window.location.host}},t.format=function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":"+e.port:""))+(e.pathname||"")+(e.search?"?"+n(e.search||""):"")+(e.hash?"#"+e.hash:"")}}),(function(e,t){var r=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=r)}),(function(e,t,r){"use strict";function i(e){return!(!e||!Object.keys(a).includes(e))||((0,n.logError)(e+" nativeParam is not supported"),!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.hasNonNativeBidder=t.nativeBidder=t.nativeAdUnit=t.NATIVE_TARGETING_KEYS=t.NATIVE_KEYS=t.nativeAdapters=void 0,t.processNativeAdUnitParams=function(e){return e&&e.type&&i(e.type)?a[e.type]:e},t.nativeBidIsValid=function(e){var t=(0,n.getBidRequest)(e.adId);if(!t)return!1;if(!(0,n.deepAccess)(e,"native.clickUrl"))return!1;var r=t.nativeParams;if(!r)return!0;var i=Object.keys(r).filter((function(e){return r[e].required})),o=Object.keys(e.native).filter((function(t){return e.native[t]}));return i.every((function(e){return o.includes(e)}))},t.fireNativeTrackers=function(e,t){(("click"===e.action?t.native&&t.native.clickTrackers:t.native&&t.native.impressionTrackers)||[]).forEach(n.triggerPixel)},t.getNativeTargeting=function(e){var t={};return Object.keys(e.native).forEach((function(r){var i=s[r],n=e.native[r];i&&(t[i]=n)})),t};var n=r(0),o=t.nativeAdapters=[],s=t.NATIVE_KEYS={title:"hb_native_title",body:"hb_native_body",sponsoredBy:"hb_native_brand",image:"hb_native_image",icon:"hb_native_icon",clickUrl:"hb_native_linkurl",cta:"hb_native_cta"},a=(t.NATIVE_TARGETING_KEYS=Object.keys(s).map((function(e){return s[e]})),{image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}}),u=(t.nativeAdUnit=function(e){var t="native"===e.mediaType,r=(0,n.deepAccess)(e,"mediaTypes.native");return t||r},t.nativeBidder=function(e){return o.includes(e.bidder)});t.hasNonNativeBidder=function(e){return e.bids.filter((function(e){return!u(e)})).length}}),(function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)}),(function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e){function t(t){return!!e.isBidRequestValid(t)||((0,g.logWarn)("Invalid bid sent to bidder "+e.code+": "+JSON.stringify(t)),!1)}function r(){var t=c.default.createBid(h.STATUS.NO_BID);return t.code=e.code,t.bidderCode=e.code,t}return s(new a.default(e.code),{getSpec:function(){return Object.freeze(e)},callBids:function(i){function n(e,t){v[e]=!0,u(e,t)}function a(){i.bids.map((function(e){return e.placementCode})).forEach((function(e){e&&!v[e]&&u(e,r())}))}function u(e,t){try{d.default.addBidResponse(e,t)}catch(t){(0,g.logError)("Error adding bid",e,t)}}function y(){if(a(),e.getUserSyncs){var t=e.getUserSyncs({iframeEnabled:f.config.getConfig("userSync.iframeEnabled"),pixelEnabled:f.config.getConfig("userSync.pixelEnabled")},b);t&&(Array.isArray(t)||(t=[t]),t.forEach((function(t){p.userSync.registerSync(t.type,e.code,t.url)})))}}if(Array.isArray(i.bids)){var v={},b=[],m=i.bids.filter(t);if(0!==m.length){var E={};m.forEach((function(e){E[e.bidId]=e}));var w=e.buildRequests(m,i);if(w&&0!==w.length){Array.isArray(w)||(w=[w]);var T=(0,g.delayExecution)(y,w.length);w.forEach((function(t){function r(r){function i(t){var r=E[t.requestId];if(r){var i=s(c.default.createBid(h.STATUS.GOOD,r),t);n(r.placementCode,i)}else(0,g.logWarn)("Bidder "+e.code+" made bid for unknown request ID: "+t.requestId+". Ignoring.")}try{r=JSON.parse(r)}catch(e){}b.push(r);var o=void 0;try{o=e.interpretResponse(r,t)}catch(t){return(0,g.logError)("Bidder "+e.code+" failed to interpret the server's response. Continuing without bids",null,t),void T()}o&&(o.forEach?o.forEach(i):i(o)),T()}function i(t){(0,g.logError)("Server call for "+e.code+" failed: "+t+". Continuing without bids."),T()}switch(t.method){case"GET":(0,l.ajax)(t.url+"?"+("object"===o(t.data)?(0,g.parseQueryStringParameters)(t.data):t.data),{success:r,error:i},void 0,s({method:"GET",withCredentials:!0},t.options));break;case"POST":(0,l.ajax)(t.url,{success:r,error:i},"string"==typeof t.data?t.data:JSON.stringify(t.data),s({method:"POST",contentType:"text/plain",withCredentials:!0},t.options));break;default:(0,g.logWarn)("Skipping invalid request from "+e.code+". Request type "+t.type+" must be GET or POST"),T()}}))}else y()}else y()}}})}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};t.registerBidder=function(e){function t(e){var t=n(e);u.default.registerBidAdapter(t,e.code,r)}var r=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;t(e),Array.isArray(e.aliases)&&e.aliases.forEach((function(r){t(s({},e,{code:r}))}))},t.newBidder=n;var a=i(r(7)),u=i(r(1)),f=r(9),l=r(6),d=i(r(2)),c=i(r(3)),h=r(4),p=r(30),g=r(0)}),(function(e,t){}),(function(e,t,r){var i=r(14),n=r(12),o=r(22),s=r(286),a=r(33),u=function(e,t,r){var f,l,d,c,h=e&u.F,p=e&u.G,g=e&u.S,y=e&u.P,v=e&u.B,b=p?i:g?i[t]||(i[t]={}):(i[t]||{}).prototype,m=p?n:n[t]||(n[t]={}),E=m.prototype||(m.prototype={});p&&(r=t);for(f in r)d=((l=!h&&b&&void 0!==b[f])?b:r)[f],c=v&&l?a(d,i):y&&"function"==typeof d?a(Function.call,d):d,b&&s(b,f,d,e&u.U),m[f]!=d&&o(m,f,c),y&&E[f]!=d&&(E[f]=d)};i.core=n,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u}),(function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}}),(function(e,t,r){"use strict";function i(e){var t=this,r=e.url,i=e.config,s=e.id,a=e.callback,u=e.loaded;this.url=r,this.config=i,this.handlers={},this.id=s,this.loaded=u,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):o.logError("Commands given to Renderer.push must be wrapped in a function")},this.callback=a||function(){t.loaded=!0,t.process()},(0,n.loadScript)(r,this.callback,!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=i;var n=r(5),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t})(r(0));i.install=function(e){return new i({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded})},i.prototype.getConfig=function(){return this.config},i.prototype.setRender=function(e){this.render=e},i.prototype.setEventHandlers=function(e){this.handlers=e},i.prototype.handleVideoEvent=function(e){var t=e.id,r=e.eventName;"function"==typeof this.handlers[r]&&this.handlers[r](),o.logMessage("Prebid Renderer event for id "+t+" type "+r)},i.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){o.logError("Error processing Renderer command: ",e)}}}),(function(e,t){var r;r=(function(){return this})();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r}),(function(e,t,r){"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e){return"string"==typeof e?[e]:g.isArray(e)?e:pbjs._adUnitCodes||[]}function o(e){var t=v.getWinningBids(e),r=s();return t=t.map((function(e){return i({},e.adUnitCode,Object.keys(e.adserverTargeting).filter((function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===r.indexOf(t)})).map((function(t){return i({},t.substring(0,20),[e.adserverTargeting[t]])})))}))}function s(){return p.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(y.TARGETING_KEYS).filter(d.uniques)}function a(e){var t=s();return pbjs._bidsReceived.filter(d.adUnitsFilter.bind(this,e)).map((function(e){if(e.alwaysUseBid)return i({},e.adUnitCode,Object.keys(e.adserverTargeting).map((function(r){if(!(t.indexOf(r)>-1))return i({},r.substring(0,20),[e.adserverTargeting[r]])})).filter((function(e){return e})))})).filter((function(e){return e}))}function u(e){var t=y.TARGETING_KEYS.concat(h.NATIVE_TARGETING_KEYS),r=[],n=(0,d.groupBy)(pbjs._bidsReceived,"adUnitCode");return Object.keys(n).forEach((function(e){var t=(0,d.groupBy)(n[e],"bidderCode");Object.keys(t).forEach((function(e){return r.push(t[e].reduce(d.getHighestCpm,l()))}))})),r.map((function(e){if(e.adserverTargeting)return i({},e.adUnitCode,f(e,t.filter((function(t){return void 0!==e.adserverTargeting[t]}))))})).filter((function(e){return e}))}function f(e,t){return t.map((function(t){return i({},(t+"_"+e.bidderCode).substring(0,20),[e.adserverTargeting[t]])}))}function l(e){return{adUnitCode:e,cpm:0,adserverTargeting:{},timeToRespond:0}}var d=r(0),c=r(9),h=r(13),p=r(2),g=r(0),y=r(4),v=t,b=[];v.resetPresetTargeting=function(e){if((0,d.isGptPubadsDefined)()){var t=n(e),r=pbjs.adUnits.filter((function(e){return t.includes(e.code)}));window.googletag.pubads().getSlots().forEach((function(e){b.forEach((function(t){r.forEach((function(r){r.code!==e.getAdUnitPath()&&r.code!==e.getSlotElementId()||e.setTargeting(t,null)}))}))}))}},v.getAllTargeting=function(e){var t=n(e),r=o(t).concat(a(t)).concat(c.config.getConfig("enableSendAllBids")?u():[]);return r.map((function(e){Object.keys(e).map((function(t){e[t].map((function(e){-1===b.indexOf(Object.keys(e)[0])&&(b=Object.keys(e).concat(b))}))}))})),r},v.setTargeting=function(e){window.googletag.pubads().getSlots().forEach((function(t){e.filter((function(e){return Object.keys(e)[0]===t.getAdUnitPath()||Object.keys(e)[0]===t.getSlotElementId()})).forEach((function(e){return e[Object.keys(e)[0]].forEach((function(e){e[Object.keys(e)[0]].map((function(r){return g.logMessage("Attempting to set key value for slot: "+t.getSlotElementId()+" key: "+Object.keys(e)[0]+" value: "+r),r})).forEach((function(r){t.setTargeting(Object.keys(e)[0],r)}))}))}))}))},v.getWinningBids=function(e){var t=n(e);return pbjs._bidsReceived.filter((function(e){return t.includes(e.adUnitCode)})).filter((function(e){return e.cpm>0})).map((function(e){return e.adUnitCode})).filter(d.uniques).map((function(e){return pbjs._bidsReceived.filter((function(t){return t.adUnitCode===e?t:null})).reduce(d.getHighestCpm,l(e))}))},v.setTargetingForAst=function(){var e=pbjs.getAdserverTargeting();Object.keys(e).forEach((function(t){return Object.keys(e[t]).forEach((function(r){if(g.logMessage("Attempting to set targeting for targetId: "+t+" key: "+r+" value: "+e[t][r]),g.isStr(e[t][r])||g.isArray(e[t][r])){var i={};i["hb_adid"===r.substring(0,"hb_adid".length)?r.toUpperCase():r]=e[t][r],window.apntag.setKeywords(t,i)}}))}))},v.isApntagDefined=function(){if(window.apntag&&g.isFn(window.apntag.setKeywords))return!0}}),(function(e,t,r){var i=r(280),n=r(285);e.exports=r(23)?function(e,t,r){return i.f(e,t,n(1,r))}:function(e,t,r){return e[t]=r,e}}),(function(e,t,r){e.exports=!r(24)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))}),(function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}}),(function(e,t){var r=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}}),(function(e,t,r){var i=r(35);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}}),(function(e,t,r){var i=r(40)("unscopables"),n=Array.prototype;void 0==n[i]&&r(22)(n,i,{}),e.exports=function(e){n[i][e]=!0}}),(function(e,t,r){"use strict";function i(e,t,r){var i="";if(!n(t))return i;var s=t.buckets.reduce((function(e,t){return e.max>t.max?e:t}),{max:0}),u=t.buckets.find((function(t){if(e>s.max*r){var n=t.precision;void 0===n&&(n=a),i=(t.max*r).toFixed(n)}else if(e<=t.max*r&&e>=t.min*r)return t}));return u&&(i=o(e,u.increment,u.precision,r)),i}function n(e){if(s.isEmpty(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((function(e){void 0!==e.min&&e.max&&e.increment||(t=!1)})),t}function o(e,t,r,i){void 0===r&&(r=a);var n=1/(t*i);return(Math.floor(e*n)/n).toFixed(r)}Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),a=2,u={buckets:[{min:0,max:5,increment:.5}]},f={buckets:[{min:0,max:20,increment:.1}]},l={buckets:[{min:0,max:20,increment:.01}]},d={buckets:[{min:0,max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}]},c={buckets:[{min:0,max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}]};t.getPriceBucketString=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=parseFloat(e);return isNaN(n)&&(n=""),{low:""===n?"":i(e,u,r),med:""===n?"":i(e,f,r),high:""===n?"":i(e,l,r),auto:""===n?"":i(e,c,r),dense:""===n?"":i(e,d,r),custom:""===n?"":i(e,t,r)}},t.isValidPriceConfig=n}),(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasNonVideoBidder=t.videoAdUnit=void 0,t.isValidVideoBid=function(e){var t=(0,n.getBidRequest)(e.adId),r=t&&(0,n.deepAccess)(t,"mediaTypes.video"),i=r&&(0,n.deepAccess)(r,"context");return!t||r&&i!==o?!(!e.vastUrl&&!e.vastXml):i!==o||!(!e.renderer&&!t.renderer)};var i=r(1),n=r(0),o="outstream",s=(t.videoAdUnit=function(e){return"video"===e.mediaType},function(e){return!i.videoAdapters.includes(e.bidder)});t.hasNonVideoBidder=function(e){return e.bids.filter(s).length}}),(function(e,t,r){"use strict";function i(e){function t(){return{image:[],iframe:[]}}function r(){if(p.syncEnabled&&e.browserSupportsCookies&&!c){try{i(),u()}catch(e){return s.logError("Error firing user syncs",e)}d=t(),c=!0}}function i(){p.pixelEnabled&&s.shuffle(d.image).forEach((function(e){var t=n(e,2),r=t[0],i=t[1];s.logMessage("Invoking image pixel user sync for bidder: "+r),s.triggerPixel(i)}))}function u(){p.iframeEnabled&&s.shuffle(d.iframe).forEach((function(e){var t=n(e,2),r=t[0],i=t[1];s.logMessage("Invoking iframe user sync for bidder: "+r),s.insertUserSyncIframe(i)}))}function f(e,t){return e[t]?e[t]+=1:e[t]=1,e}var l={},d=t(),c=!1,h={},p=e.config;return a.config.getConfig("userSync",(function(e){p=o(p,e.userSync)})),l.registerSync=function(e,t,r){return p.syncEnabled&&s.isArray(d[e])?t?Number(h[t])>=p.syncsPerBidder?s.logWarn('Number of user syncs exceeded for "{$bidder}"'):p.enabledBidders&&p.enabledBidders.length&&p.enabledBidders.indexOf(t)<0?s.logWarn('Bidder "'+t+'" not supported'):(d[e].push([t,r]),void(h=f(h,t))):s.logWarn("Bidder is required for registering sync"):s.logWarn('User sync type "'+e+'" not supported')},l.syncUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return window.setTimeout(r,Number(e));r()},l.triggerUserSyncs=function(){p.enableOverride&&l.syncUsers()},l}Object.defineProperty(t,"__esModule",{value:!0}),t.userSync=void 0;var n=(function(){function e(e,t){var r=[],i=!0,n=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};t.newUserSync=i;var s=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t})(r(0)),a=r(9),u=!s.isSafariBrowser()&&s.cookiesAreEnabled();t.userSync=i({config:a.config.getConfig("userSync"),browserSupportsCookies:u})}),(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobal=function(){return window.pbjs},window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[]}),(function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}}),(function(e,t,r){var i=r(287);e.exports=function(e,t,r){if(i(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,i){return e.call(t,r,i)};case 3:return function(r,i,n){return e.call(t,r,i,n)}}return function(){return e.apply(t,arguments)}}}),(function(e,t,r){var i=r(33),n=r(26),o=r(36),s=r(38),a=r(288);e.exports=function(e,t){var r=1==e,u=2==e,f=3==e,l=4==e,d=6==e,c=5==e||d,h=t||a;return function(t,a,p){for(var g,y,v=o(t),b=n(v),m=i(a,p,3),E=s(b.length),w=0,T=r?h(t,E):u?h(t,0):void 0;E>w;w++)if((c||w in b)&&(g=b[w],y=m(g,w,v),e))if(r)T[w]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return w;case 2:T.push(g)}else if(l)return!1;return d?-1:f||l?l:T}}}),(function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}}),(function(e,t,r){var i=r(37);e.exports=function(e){return Object(i(e))}}),(function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}}),(function(e,t,r){var i=r(39),n=Math.min;e.exports=function(e){return e>0?n(i(e),9007199254740991):0}}),(function(e,t){var r=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}}),(function(e,t,r){var i=r(41)("wks"),n=r(25),o=r(14).Symbol,s="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=s&&o[e]||(s?o:n)("Symbol."+e))}).store=i}),(function(e,t,r){var i=r(14),n=i["__core-js_shared__"]||(i["__core-js_shared__"]={});e.exports=function(e){return n[e]||(n[e]={})}}),(function(e,t,r){var i=r(43),n=r(38),o=r(295);e.exports=function(e){return function(t,r,s){var a,u=i(t),f=n(u.length),l=o(s,f);if(e&&r!=r){for(;f>l;)if((a=u[l++])!=a)return!0}else for(;f>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}}}),(function(e,t,r){var i=r(26),n=r(37);e.exports=function(e){return i(n(e))}}),,,(function(e,t,r){"use strict";function i(e){return!!(o.isArray(e)&&e.length>0)||(o.logInfo("No size mapping defined"),!1)}function n(e){var t=e||s||window,r=t.document;return t.innerWidth?t.innerWidth:r.body.clientWidth?r.body.clientWidth:r.documentElement.clientWidth?r.documentElement.clientWidth:0}Object.defineProperty(t,"__esModule",{value:!0}),t.setWindow=t.getScreenWidth=t.mapSizes=void 0;var o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t})(r(0)),s=void 0;t.mapSizes=function(e){if(!i(e.sizeMapping))return e.sizes;var t=n();if(!t){var r=e.sizeMapping.reduce((function(e,t){return e.minWidth<t.minWidth?t:e}));return r.sizes&&r.sizes.length?r.sizes:e.sizes}var s="",a=e.sizeMapping.find((function(e){return t>=e.minWidth}));return a&&a.sizes&&a.sizes.length?(s=a.sizes,o.logMessage("AdUnit : "+e.code+" resized based on device width to : "+s)):o.logMessage("AdUnit : "+e.code+" not mapped to any sizes for device width. This request will be suppressed."),s},t.getScreenWidth=n,t.setWindow=function(e){s=e}}),(function(e,t,r){"use strict";function i(e){return'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['+e+"]]></VASTAdTagURI>\n        <Impression></Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>"}function n(e){return{type:"xml",value:e.vastXml?e.vastXml:i(e.vastUrl)}}function o(e){return{success:function(t){var r=void 0;try{r=JSON.parse(t).responses}catch(t){return void e(t,[])}r?e(null,r):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,r){e(new Error("Error storing video ad in the cache: "+t+": "+JSON.stringify(r)),[])}}}Object.defineProperty(t,"__esModule",{value:!0}),t.store=function(e,t){var r={puts:e.map(n)};(0,s.ajax)(a,o(t),JSON.stringify(r),{contentType:"text/plain",withCredentials:!0})},t.getCacheUrl=function(e){return a+"?uuid="+e};var s=r(6),a="https://prebid.adnxs.com/pbc/v1/cache"}),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(function(e,t,r){r(268),e.exports=r(276)}),(function(e,t,r){"use strict";function i(){window.pbjs.logging&&window.console.log.apply(null,arguments)}function n(e){switch(e.eventType){case"auctionInit":o.apply(void 0,arguments);break;case"bidRequested":s.apply(void 0,arguments);break;case"bidResponse":a.apply(void 0,arguments);break;case"bidWon":u.apply(void 0,arguments);break;case"bidTimeout":f.apply(void 0,arguments)}}function o(e){var t=e.data;m={referer_url:document.referrer,seller_member_id:t.config?t.config.memberId:void 0},E.push({auction_init_timestamp:t.timestamp,prebid_auction_id:t.requestId,configured_timeout_ms:t.timeout})}function s(e){var t=e.data;E.push({prebid_auction_id:t.requestId,ad_units:t.bids.map((function(e){return{ad_unit_code:e.placementCode,bids:[{bid_id:e.bidId,bidder_code:e.bidder,request_timestamp:t.start}]}}))})}function a(e){var t=e.data;if(t.adUnitCode&&t.requestTimestamp&&t.cpm!==1/0){var r={prebid_auction_id:t.requestId,ad_units:[{ad_unit_code:t.adUnitCode,bids:[{bid_id:t.adId,bidder_code:t.bidder,price:t.cpm,bidder_ad_unit_id:t.adUnitCode,request_timestamp:t.requestTimestamp,response_timestamp:t.responseTimestamp,creative:{creative_id:t.creative_id&&String(t.creative_id),height:t.height&&+t.height,width:t.width&&+t.width,brand:t.brand}}]}]};0===t.cpm&&(r.ad_units[0].bids[0].status_code=b.NO_BID),t.source&&(r.ad_units[0].bids[0].source=t.source),E.push(r)}}function u(e){var t=e.data;t.adUnitCode&&t.cpm!==1/0&&(E.push({prebid_auction_id:t.requestId,ad_units:[{ad_unit_code:t.adUnitCode,bids:[{bid_id:t.adId,bidder_code:t.bidder,price:t.cpm,status_code:10}]}]}),E=E.concat(pbjs._bidsReceived.filter((function(e){return e!==t&&e.adUnitCode===t.adUnitCode})).map((function(e){return{prebid_auction_id:e.requestId,ad_units:[{ad_unit_code:e.adUnitCode,bids:[{bid_id:e.adId,bidder_code:e.bidder,status_code:11}]}]}}))))}function f(e){var t=e.data;t.adUnitCode&&(E=E.concat(pbjs._bidsRequested.map((function(e){return e.bids.filter((function(e){return t.includes(e.bidder)}))})).reduce((function(e,t){return e.concat(t)})).map((function(e){return{prebid_auction_id:e.requestId,ad_units:[{ad_unit_code:e.adUnitCode,bids:[{bid_id:e.bidId,bidder_code:e.bidder,status_code:13}]}]}}))))}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},d=(function(e){return e&&e.__esModule?e:{default:e}})(r(269)),c=r(274),h=r(275),p=d.default.loadJson(h).build("LogPrebidEvents"),g=p.Auction,y="https://rb.adnxs.com/pack?log=log_prebid_events&format=protobuf",v=(0,c.debounce)((function(){i("Q:",E);var e=l({},m,{timestamp:Math.floor(Date.now()/1e3),auctions:E.map((function(e){return new g(e)}))}),t=new p(e).toArrayBuffer();(0,c.ajax)(y,t,(function(e){return i("Sent Prebid Analytics:",e)})),w=w.concat(E),E=[]}),100),b={NO_BID:12},m={},E=[],w=[];window.AppNexusPrebidAnalytics=function(e,t,r){n({eventType:t,data:r}),v()}}),(function(e,t,r){"use strict";(function(i,n){var o,s,a,u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f={scope:{}};f.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){if(r.get||r.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},f.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==i&&null!=i?i:e},f.global=f.getGlobal(void 0),f.SYMBOL_PREFIX="jscomp_symbol_",f.initSymbol=function(){f.initSymbol=function(){},f.global.Symbol||(f.global.Symbol=f.Symbol)},f.symbolCounter_=0,f.Symbol=function(e){return f.SYMBOL_PREFIX+(e||"")+f.symbolCounter_++},f.initSymbolIterator=function(){f.initSymbol();var e=f.global.Symbol.iterator;e||(e=f.global.Symbol.iterator=f.global.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&f.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return f.arrayIterator(this)}}),f.initSymbolIterator=function(){}},f.arrayIterator=function(e){var t=0;return f.iteratorPrototype((function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}))},f.iteratorPrototype=function(e){return f.initSymbolIterator(),e={next:e},e[f.global.Symbol.iterator]=function(){return this},e},f.array=f.array||{},f.iteratorFromArray=function(e,t){f.initSymbolIterator(),e instanceof String&&(e+="");var r=0,i={next:function(){if(r<e.length){var n=r++;return{value:t(n,e[n]),done:!1}}return i.next=function(){return{done:!0,value:void 0}},i.next()}};return i[Symbol.iterator]=function(){return i},i},f.polyfill=function(e,t,r,i){if(t){for(r=f.global,e=e.split("."),i=0;i<e.length-1;i++){var n=e[i];n in r||(r[n]={}),r=r[n]}(t=t(i=r[e=e[e.length-1]]))!=i&&null!=t&&f.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},f.polyfill("Array.prototype.keys",(function(e){return e||function(){return f.iteratorFromArray(this,(function(e){return e}))}}),"es6-impl","es3"),f.polyfill("Array.prototype.entries",(function(e){return e||function(){return f.iteratorFromArray(this,(function(e,t){return[e,t]}))}}),"es6-impl","es3"),f.polyfill("Array.prototype.values",(function(e){return e||function(){return f.iteratorFromArray(this,(function(e,t){return t}))}}),"es6","es3"),(function(i,n){s=[r(271)],void 0!==(a="function"==typeof(o=n)?o.apply(t,s):o)&&(e.exports=a)})(0,(function(e,t){var i={};return i.ByteBuffer=e,i.Long=e.Long||null,i.VERSION="5.0.2",i.WIRE_TYPES={},i.WIRE_TYPES.VARINT=0,i.WIRE_TYPES.BITS64=1,i.WIRE_TYPES.LDELIM=2,i.WIRE_TYPES.STARTGROUP=3,i.WIRE_TYPES.ENDGROUP=4,i.WIRE_TYPES.BITS32=5,i.PACKABLE_WIRE_TYPES=[i.WIRE_TYPES.VARINT,i.WIRE_TYPES.BITS64,i.WIRE_TYPES.BITS32],i.TYPES={int32:{name:"int32",wireType:i.WIRE_TYPES.VARINT,defaultValue:0},uint32:{name:"uint32",wireType:i.WIRE_TYPES.VARINT,defaultValue:0},sint32:{name:"sint32",wireType:i.WIRE_TYPES.VARINT,defaultValue:0},int64:{name:"int64",wireType:i.WIRE_TYPES.VARINT,defaultValue:i.Long?i.Long.ZERO:void 0},uint64:{name:"uint64",wireType:i.WIRE_TYPES.VARINT,defaultValue:i.Long?i.Long.UZERO:void 0},sint64:{name:"sint64",wireType:i.WIRE_TYPES.VARINT,defaultValue:i.Long?i.Long.ZERO:void 0},bool:{name:"bool",wireType:i.WIRE_TYPES.VARINT,defaultValue:!1},double:{name:"double",wireType:i.WIRE_TYPES.BITS64,defaultValue:0},string:{name:"string",wireType:i.WIRE_TYPES.LDELIM,defaultValue:""},bytes:{name:"bytes",wireType:i.WIRE_TYPES.LDELIM,defaultValue:null},fixed32:{name:"fixed32",wireType:i.WIRE_TYPES.BITS32,defaultValue:0},sfixed32:{name:"sfixed32",wireType:i.WIRE_TYPES.BITS32,defaultValue:0},fixed64:{name:"fixed64",wireType:i.WIRE_TYPES.BITS64,defaultValue:i.Long?i.Long.UZERO:void 0},sfixed64:{name:"sfixed64",wireType:i.WIRE_TYPES.BITS64,defaultValue:i.Long?i.Long.ZERO:void 0},float:{name:"float",wireType:i.WIRE_TYPES.BITS32,defaultValue:0},enum:{name:"enum",wireType:i.WIRE_TYPES.VARINT,defaultValue:0},message:{name:"message",wireType:i.WIRE_TYPES.LDELIM,defaultValue:null},group:{name:"group",wireType:i.WIRE_TYPES.STARTGROUP,defaultValue:null}},i.MAP_KEY_TYPES=[i.TYPES.int32,i.TYPES.sint32,i.TYPES.sfixed32,i.TYPES.uint32,i.TYPES.fixed32,i.TYPES.int64,i.TYPES.sint64,i.TYPES.sfixed64,i.TYPES.uint64,i.TYPES.fixed64,i.TYPES.bool,i.TYPES.string,i.TYPES.bytes],i.ID_MIN=1,i.ID_MAX=536870911,i.convertFieldsToCamelCase=!1,i.populateAccessors=!0,i.populateDefaults=!0,i.Util=(function(){var e={};return e.IS_NODE=!("object"!==(void 0===n?"undefined":u(n))||"[object process]"!=n+""||n.browser),e.XHR=function(){for(var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=null,r=0;r<e.length;r++){try{t=e[r]()}catch(e){continue}break}if(!t)throw Error("XMLHttpRequest is not supported");return t},e.fetch=function(t,i){if(i&&"function"!=typeof i&&(i=null),e.IS_NODE){var n=r(273);if(i)n.readFile(t,(function(e,t){i(e?null:""+t)}));else try{return n.readFileSync(t)}catch(e){return null}}else{var o=e.XHR();if(o.open("GET",t,!!i),o.setRequestHeader("Accept","text/plain"),"function"==typeof o.overrideMimeType&&o.overrideMimeType("text/plain"),!i)return o.send(null),200==o.status||0==o.status&&"string"==typeof o.responseText?o.responseText:null;o.onreadystatechange=function(){4==o.readyState&&i(200==o.status||0==o.status&&"string"==typeof o.responseText?o.responseText:null)},4!=o.readyState&&o.send(null)}},e.toCamelCase=function(e){return e.replace(/_([a-zA-Z])/g,(function(e,t){return t.toUpperCase()}))},e})(),i.Lang={DELIM:/[\s\{\}=;:\[\],'"\(\)<>]/g,RULE:/^(?:required|optional|repeated|map)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,FQTYPEREF:/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0[xX][0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,BOOL:/^(?:true|false)$/i,ID:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,NEGID:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,STRING_DQ:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,STRING_SQ:/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g},i.Reflect=(function(t){function r(e,r){if(e&&"number"==typeof e.low&&"number"==typeof e.high&&"boolean"==typeof e.unsigned&&e.low===e.low&&e.high===e.high)return new t.Long(e.low,e.high,void 0===r?e.unsigned:r);if("string"==typeof e)return t.Long.fromString(e,r||!1,10);if("number"==typeof e)return t.Long.fromNumber(e,r||!1);throw Error("not convertible to Long")}function i(e,r){var n=7&(o=r.readVarint32()),o=o>>>3;switch(n){case t.WIRE_TYPES.VARINT:do{o=r.readUint8()}while(128==(128&o));break;case t.WIRE_TYPES.BITS64:r.offset+=8;break;case t.WIRE_TYPES.LDELIM:o=r.readVarint32(),r.offset+=o;break;case t.WIRE_TYPES.STARTGROUP:i(o,r);break;case t.WIRE_TYPES.ENDGROUP:if(o===e)return!1;throw Error("Illegal GROUPEND after unknown group: "+o+" ("+e+" expected)");case t.WIRE_TYPES.BITS32:r.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+e+": "+n)}return!0}var n={},o=function(e,t,r){this.builder=e,this.parent=t,this.name=r},s=o.prototype;s.fqn=function(){for(var e=this.name,t=this;;){if(null==(t=t.parent))break;e=t.name+"."+e}return e},s.toString=function(e){return(e?this.className+" ":"")+this.fqn()},s.build=function(){throw Error(this.toString(!0)+" cannot be built directly")},n.T=o;var a=function(e,t,r,i,n){o.call(this,e,t,r),this.className="Namespace",this.children=[],this.options=i||{},this.syntax=n||"proto2"};(s=a.prototype=Object.create(o.prototype)).getChildren=function(e){if(null==(e=e||null))return this.children.slice();for(var t=[],r=0,i=this.children.length;r<i;++r)this.children[r]instanceof e&&t.push(this.children[r]);return t},s.addChild=function(e){var t;if(t=this.getChild(e.name))if(t instanceof d.Field&&t.name!==t.originalName&&null===this.getChild(t.originalName))t.name=t.originalName;else{if(!(e instanceof d.Field&&e.name!==e.originalName&&null===this.getChild(e.originalName)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+e.name);e.name=e.originalName}this.children.push(e)},s.getChild=function(e){for(var t="number"==typeof e?"id":"name",r=0,i=this.children.length;r<i;++r)if(this.children[r][t]===e)return this.children[r];return null},s.resolve=function(e,t){var r="string"==typeof e?e.split("."):e,i=this,o=0;if(""===r[o]){for(;null!==i.parent;)i=i.parent;o++}do{do{if(!(i instanceof n.Namespace)){i=null;break}if(!((i=i.getChild(r[o]))&&i instanceof n.T)||t&&!(i instanceof n.Namespace)){i=null;break}o++}while(o<r.length);if(null!=i)break;if(null!==this.parent)return this.parent.resolve(e,t)}while(null!=i);return i},s.qn=function(e){var t=[],r=e;do{t.unshift(r.name),r=r.parent}while(null!==r);for(r=1;r<=t.length;r++){var i=t.slice(t.length-r);if(e===this.resolve(i,e instanceof n.Namespace))return i.join(".")}return e.fqn()},s.build=function(){for(var e,t={},r=this.children,i=0,n=r.length;i<n;++i)(e=r[i])instanceof a&&(t[e.name]=e.build());return Object.defineProperty&&Object.defineProperty(t,"$options",{value:this.buildOpt()}),t},s.buildOpt=function(){for(var e={},t=Object.keys(this.options),r=0,i=t.length;r<i;++r)e[t[r]]=this.options[t[r]];return e},s.getOption=function(e){return void 0===e?this.options:void 0!==this.options[e]?this.options[e]:null},n.Namespace=a;var f=function(e,r,i,n,o){if(this.type=e,this.resolvedType=r,this.isMapKey=i,this.syntax=n,this.name=o,i&&0>t.MAP_KEY_TYPES.indexOf(e))throw Error("Invalid map key type: "+e.name)},l=f.prototype;f.defaultFieldValue=function(r){if("string"==typeof r&&(r=t.TYPES[r]),void 0===r.defaultValue)throw Error("default value for type "+r.name+" is not supported");return r==t.TYPES.bytes?new e(0):r.defaultValue},l.toString=function(){return(this.name||"")+(this.isMapKey?"map":"value")+" element"},l.verifyValue=function(i){function n(e,t){throw Error("Illegal value for "+o.toString(!0)+" of type "+o.type.name+": "+e+" ("+t+")")}var o=this;switch(this.type){case t.TYPES.int32:case t.TYPES.sint32:case t.TYPES.sfixed32:return("number"!=typeof i||i===i&&0!=i%1)&&n(void 0===i?"undefined":u(i),"not an integer"),4294967295<i?0|i:i;case t.TYPES.uint32:case t.TYPES.fixed32:return("number"!=typeof i||i===i&&0!=i%1)&&n(void 0===i?"undefined":u(i),"not an integer"),0>i?i>>>0:i;case t.TYPES.int64:case t.TYPES.sint64:case t.TYPES.sfixed64:if(t.Long)try{return r(i,!1)}catch(e){n(void 0===i?"undefined":u(i),e.message)}else n(void 0===i?"undefined":u(i),"requires Long.js");case t.TYPES.uint64:case t.TYPES.fixed64:if(t.Long)try{return r(i,!0)}catch(e){n(void 0===i?"undefined":u(i),e.message)}else n(void 0===i?"undefined":u(i),"requires Long.js");case t.TYPES.bool:return"boolean"!=typeof i&&n(void 0===i?"undefined":u(i),"not a boolean"),i;case t.TYPES.float:case t.TYPES.double:return"number"!=typeof i&&n(void 0===i?"undefined":u(i),"not a number"),i;case t.TYPES.string:return"string"==typeof i||i&&i instanceof String||n(void 0===i?"undefined":u(i),"not a string"),""+i;case t.TYPES.bytes:return e.isByteBuffer(i)?i:e.wrap(i,"base64");case t.TYPES.enum:for(var s=this.resolvedType.getChildren(t.Reflect.Enum.Value),a=0;a<s.length;a++)if(s[a].name==i||s[a].id==i)return s[a].id;if("proto3"===this.syntax)return("number"!=typeof i||i===i&&0!=i%1)&&n(void 0===i?"undefined":u(i),"not an integer"),(4294967295<i||0>i)&&n(void 0===i?"undefined":u(i),"not in range for uint32"),i;n(i,"not a valid enum value");case t.TYPES.group:case t.TYPES.message:if(i&&"object"===(void 0===i?"undefined":u(i))||n(void 0===i?"undefined":u(i),"object expected"),i instanceof this.resolvedType.clazz)return i;if(i instanceof t.Builder.Message){s={};for(a in i)i.hasOwnProperty(a)&&(s[a]=i[a]);i=s}return new this.resolvedType.clazz(i)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+i+" (undefined type "+this.type+")")},l.calculateLength=function(r,i){if(null===i)return 0;var n;switch(this.type){case t.TYPES.int32:return 0>i?e.calculateVarint64(i):e.calculateVarint32(i);case t.TYPES.uint32:return e.calculateVarint32(i);case t.TYPES.sint32:return e.calculateVarint32(e.zigZagEncode32(i));case t.TYPES.fixed32:case t.TYPES.sfixed32:case t.TYPES.float:return 4;case t.TYPES.int64:case t.TYPES.uint64:return e.calculateVarint64(i);case t.TYPES.sint64:return e.calculateVarint64(e.zigZagEncode64(i));case t.TYPES.fixed64:case t.TYPES.sfixed64:return 8;case t.TYPES.bool:return 1;case t.TYPES.enum:return e.calculateVarint32(i);case t.TYPES.double:return 8;case t.TYPES.string:return n=e.calculateUTF8Bytes(i),e.calculateVarint32(n)+n;case t.TYPES.bytes:if(0>i.remaining())throw Error("Illegal value for "+this.toString(!0)+": "+i.remaining()+" bytes remaining");return e.calculateVarint32(i.remaining())+i.remaining();case t.TYPES.message:return n=this.resolvedType.calculate(i),e.calculateVarint32(n)+n;case t.TYPES.group:return(n=this.resolvedType.calculate(i))+e.calculateVarint32(r<<3|t.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+i+" (unknown type)")},l.encodeValue=function(r,i,n){if(null===i)return n;switch(this.type){case t.TYPES.int32:0>i?n.writeVarint64(i):n.writeVarint32(i);break;case t.TYPES.uint32:n.writeVarint32(i);break;case t.TYPES.sint32:n.writeVarint32ZigZag(i);break;case t.TYPES.fixed32:n.writeUint32(i);break;case t.TYPES.sfixed32:n.writeInt32(i);break;case t.TYPES.int64:case t.TYPES.uint64:n.writeVarint64(i);break;case t.TYPES.sint64:n.writeVarint64ZigZag(i);break;case t.TYPES.fixed64:n.writeUint64(i);break;case t.TYPES.sfixed64:n.writeInt64(i);break;case t.TYPES.bool:"string"==typeof i?n.writeVarint32("false"===i.toLowerCase()?0:!!i):n.writeVarint32(i?1:0);break;case t.TYPES.enum:n.writeVarint32(i);break;case t.TYPES.float:n.writeFloat32(i);break;case t.TYPES.double:n.writeFloat64(i);break;case t.TYPES.string:n.writeVString(i);break;case t.TYPES.bytes:if(0>i.remaining())throw Error("Illegal value for "+this.toString(!0)+": "+i.remaining()+" bytes remaining");r=i.offset,n.writeVarint32(i.remaining()),n.append(i),i.offset=r;break;case t.TYPES.message:r=(new e).LE(),this.resolvedType.encode(i,r),n.writeVarint32(r.offset),n.append(r.flip());break;case t.TYPES.group:this.resolvedType.encode(i,n),n.writeVarint32(r<<3|t.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+i+" (unknown type)")}return n},l.decode=function(e,r,i){if(r!=this.type.wireType)throw Error("Unexpected wire type for element");switch(this.type){case t.TYPES.int32:return 0|e.readVarint32();case t.TYPES.uint32:return e.readVarint32()>>>0;case t.TYPES.sint32:return 0|e.readVarint32ZigZag();case t.TYPES.fixed32:return e.readUint32()>>>0;case t.TYPES.sfixed32:return 0|e.readInt32();case t.TYPES.int64:return e.readVarint64();case t.TYPES.uint64:return e.readVarint64().toUnsigned();case t.TYPES.sint64:return e.readVarint64ZigZag();case t.TYPES.fixed64:return e.readUint64();case t.TYPES.sfixed64:return e.readInt64();case t.TYPES.bool:return!!e.readVarint32();case t.TYPES.enum:return e.readVarint32();case t.TYPES.float:return e.readFloat();case t.TYPES.double:return e.readDouble();case t.TYPES.string:return e.readVString();case t.TYPES.bytes:if(i=e.readVarint32(),e.remaining()<i)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+i+" required but got only "+e.remaining());return r=e.clone(),r.limit=r.offset+i,e.offset+=i,r;case t.TYPES.message:return i=e.readVarint32(),this.resolvedType.decode(e,i);case t.TYPES.group:return this.resolvedType.decode(e,-1,i)}throw Error("[INTERNAL] Illegal decode type")},l.valueFromString=function(r){if(!this.isMapKey)throw Error("valueFromString() called on non-map-key element");switch(this.type){case t.TYPES.int32:case t.TYPES.sint32:case t.TYPES.sfixed32:case t.TYPES.uint32:case t.TYPES.fixed32:return this.verifyValue(parseInt(r));case t.TYPES.int64:case t.TYPES.sint64:case t.TYPES.sfixed64:case t.TYPES.uint64:case t.TYPES.fixed64:return this.verifyValue(r);case t.TYPES.bool:return"true"===r;case t.TYPES.string:return this.verifyValue(r);case t.TYPES.bytes:return e.fromBinary(r)}},l.valueToString=function(e){if(!this.isMapKey)throw Error("valueToString() called on non-map-key element");return this.type===t.TYPES.bytes?e.toString("binary"):e.toString()},n.Element=f;var d=function(e,t,r,i,n,o){a.call(this,e,t,r,i,o),this.className="Message",this.extensions=void 0,this.clazz=null,this.isGroup=!!n,this._fieldsByName=this._fieldsById=this._fields=null};(l=d.prototype=Object.create(a.prototype)).build=function(r){if(this.clazz&&!r)return this.clazz;r=(function(t,r){function i(r,n,o,s){if(null===r||"object"!==(void 0===r?"undefined":u(r)))return s&&s instanceof t.Reflect.Enum&&null!==(l=t.Reflect.Enum.getName(s.object,r))?l:r;if(e.isByteBuffer(r))return n?r.toBase64():r.toBuffer();if(t.Long.isLong(r))return o?r.toString():t.Long.fromValue(r);var a;if(Array.isArray(r))return a=[],r.forEach((function(e,t){a[t]=i(e,n,o,s)})),a;if(a={},r instanceof t.Map){for(d=(l=r.entries()).next();!d.done;d=l.next())a[r.keyElem.valueToString(d.value[0])]=i(d.value[1],n,o,r.valueElem.resolvedType);return a}var f,l=r.$type,d=void 0;for(f in r)r.hasOwnProperty(f)&&(l&&(d=l.getChild(f))?a[f]=i(r[f],n,o,d.resolvedType):a[f]=i(r[f],n,o));return a}var n=r.getChildren(t.Reflect.Message.Field),o=r.getChildren(t.Reflect.Message.OneOf),s=function i(s,a){t.Builder.Message.call(this);for(var f=0,l=o.length;f<l;++f)this[o[f].name]=null;for(f=0,l=n.length;f<l;++f){var d=n[f];this[d.name]=d.repeated?[]:d.map?new t.Map(d):null,!d.required&&"proto3"!==r.syntax||null===d.defaultValue||(this[d.name]=d.defaultValue)}if(0<arguments.length)if(1!==arguments.length||null===s||"object"!==(void 0===s?"undefined":u(s))||!("function"!=typeof s.encode||s instanceof i)||Array.isArray(s)||s instanceof t.Map||e.isByteBuffer(s)||s instanceof ArrayBuffer||t.Long&&s instanceof t.Long)for(f=0,l=arguments.length;f<l;++f)void 0!==(d=arguments[f])&&this.$set(n[f].name,d);else this.$set(s)},a=s.prototype=Object.create(t.Builder.Message.prototype);a.add=function(e,i,n){var o=r._fieldsByName[e];if(!n){if(!o)throw Error(this+"#"+e+" is undefined");if(!(o instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+o.toString(!0));if(!o.repeated)throw Error(this+"#"+e+" is not a repeated field");i=o.verifyValue(i,!0)}return null===this[e]&&(this[e]=[]),this[e].push(i),this},a.$add=a.add,a.set=function(e,i,n){if(e&&"object"===(void 0===e?"undefined":u(e))){n=i;for(var o in e)e.hasOwnProperty(o)&&void 0!==(i=e[o])&&void 0===r._oneofsByName[o]&&this.$set(o,i,n);return this}if(o=r._fieldsByName[e],n)this[e]=i;else{if(!o)throw Error(this+"#"+e+" is not a field: undefined");if(!(o instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+o.toString(!0));this[o.name]=i=o.verifyValue(i)}return o&&o.oneof&&(n=this[o.oneof.name],null!==i?(null!==n&&n!==o.name&&(this[n]=null),this[o.oneof.name]=o.name):n===e&&(this[o.oneof.name]=null)),this},a.$set=a.set,a.get=function(e,i){if(i)return this[e];var n=r._fieldsByName[e];if(!(n&&n instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: undefined");if(!(n instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+n.toString(!0));return this[n.name]},a.$get=a.get;for(var f=0;f<n.length;f++){var l=n[f];l instanceof t.Reflect.Message.ExtensionField||r.builder.options.populateAccessors&&(function(e){var t=(t=e.originalName.replace(/(_[a-zA-Z])/g,(function(e){return e.toUpperCase().replace("_","")}))).substring(0,1).toUpperCase()+t.substring(1),i=e.originalName.replace(/([A-Z])/g,(function(e){return"_"+e})),n=function(t,r){return this[e.name]=r?t:e.verifyValue(t),this},o=function(){return this[e.name]};null===r.getChild("set"+t)&&(a["set"+t]=n),null===r.getChild("set_"+i)&&(a["set_"+i]=n),null===r.getChild("get"+t)&&(a["get"+t]=o),null===r.getChild("get_"+i)&&(a["get_"+i]=o)})(l)}return a.encode=function(t,i){"boolean"==typeof t&&(i=t,t=void 0);var n=!1;t||(t=new e,n=!0);var o=t.littleEndian;try{return r.encode(this,t.LE(),i),(n?t.flip():t).LE(o)}catch(e){throw t.LE(o),e}},s.encode=function(e,t,r){return new s(e).encode(t,r)},a.calculate=function(){return r.calculate(this)},a.encodeDelimited=function(t,i){var n=!1;t||(t=new e,n=!0);var o=(new e).LE();return r.encode(this,o,i).flip(),t.writeVarint32(o.remaining()),t.append(o),n?t.flip():t},a.encodeAB=function(){try{return this.encode().toArrayBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toArrayBuffer()),e}},a.toArrayBuffer=a.encodeAB,a.encodeNB=function(){try{return this.encode().toBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBuffer()),e}},a.toBuffer=a.encodeNB,a.encode64=function(){try{return this.encode().toBase64()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBase64()),e}},a.toBase64=a.encode64,a.encodeHex=function(){try{return this.encode().toHex()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toHex()),e}},a.toHex=a.encodeHex,a.toRaw=function(e,t){return i(this,!!e,!!t,this.$type)},a.encodeJSON=function(){return JSON.stringify(i(this,!0,!0,this.$type))},s.decode=function(t,i,n){"string"==typeof i&&(n=i,i=-1),"string"==typeof t?t=e.wrap(t,n||"base64"):e.isByteBuffer(t)||(t=e.wrap(t)),n=t.littleEndian;try{var o=r.decode(t.LE(),i);return t.LE(n),o}catch(e){throw t.LE(n),e}},s.decodeDelimited=function(t,i){if("string"==typeof t?t=e.wrap(t,i||"base64"):e.isByteBuffer(t)||(t=e.wrap(t)),1>t.remaining())return null;var n=t.offset,o=t.readVarint32();if(t.remaining()<o)return t.offset=n,null;try{var s=r.decode(t.slice(t.offset,t.offset+o).LE());return t.offset+=o,s}catch(e){throw t.offset+=o,e}},s.decode64=function(e){return s.decode(e,"base64")},s.decodeHex=function(e){return s.decode(e,"hex")},s.decodeJSON=function(e){return new s(JSON.parse(e))},a.toString=function(){return r.toString()},Object.defineProperty&&(Object.defineProperty(s,"$options",{value:r.buildOpt()}),Object.defineProperty(a,"$options",{value:s.$options}),Object.defineProperty(s,"$type",{value:r}),Object.defineProperty(a,"$type",{value:r})),s})(t,this),this._fields=[],this._fieldsById={},this._fieldsByName={},this._oneofsByName={};for(var i,n=0,o=this.children.length;n<o;n++)if((i=this.children[n])instanceof h||i instanceof d||i instanceof g){if(r.hasOwnProperty(i.name))throw Error("Illegal reflect child of "+this.toString(!0)+": "+i.toString(!0)+" cannot override static property '"+i.name+"'");r[i.name]=i.build()}else if(i instanceof d.Field)i.build(),this._fields.push(i),this._fieldsById[i.id]=i,this._fieldsByName[i.name]=i;else if(i instanceof d.OneOf)this._oneofsByName[i.name]=i;else if(!(i instanceof d.OneOf||i instanceof p))throw Error("Illegal reflect child of "+this.toString(!0)+": "+this.children[n].toString(!0));return this.clazz=r},l.encode=function(e,t,r){for(var i,n,o=null,s=0,a=this._fields.length;s<a;++s)n=e[(i=this._fields[s]).name],i.required&&null===n?null===o&&(o=i):i.encode(r?n:i.verifyValue(n),t,e);if(null!==o)throw e=Error("Missing at least one required field for "+this.toString(!0)+": "+o),e.encoded=t,e;return t},l.calculate=function(e){for(var t,r,i=0,n=0,o=this._fields.length;n<o;++n){if(t=this._fields[n],r=e[t.name],t.required&&null===r)throw Error("Missing at least one required field for "+this.toString(!0)+": "+t);i+=t.calculate(r,e)}return i},l.decode=function(e,r,n){"number"!=typeof r&&(r=-1);for(var o,s,a,u=e.offset,f=new this.clazz;e.offset<u+r||-1===r&&0<e.remaining();){if(o=e.readVarint32(),s=7&o,a=o>>>3,s===t.WIRE_TYPES.ENDGROUP){if(a!==n)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+a+" ("+(n?n+" expected":"not a group")+")");break}if(o=this._fieldsById[a])o.repeated&&!o.options.packed?f[o.name].push(o.decode(s,e)):o.map?(s=o.decode(s,e),f[o.name].set(s[0],s[1])):(f[o.name]=o.decode(s,e),o.oneof&&(null!==(s=f[o.oneof.name])&&s!==o.name&&(f[s]=null),f[o.oneof.name]=o.name));else switch(s){case t.WIRE_TYPES.VARINT:e.readVarint32();break;case t.WIRE_TYPES.BITS32:e.offset+=4;break;case t.WIRE_TYPES.BITS64:e.offset+=8;break;case t.WIRE_TYPES.LDELIM:o=e.readVarint32(),e.offset+=o;break;case t.WIRE_TYPES.STARTGROUP:for(;i(a,e););break;default:throw Error("Illegal wire type for unknown field "+a+" in "+this.toString(!0)+"#decode: "+s)}}for(e=0,r=this._fields.length;e<r;++e)if(o=this._fields[e],null===f[o.name])if("proto3"===this.syntax)f[o.name]=o.defaultValue;else{if(o.required)throw e=Error("Missing at least one required field for "+this.toString(!0)+": "+o.name),e.decoded=f,e;t.populateDefaults&&null!==o.defaultValue&&(f[o.name]=o.defaultValue)}return f},n.Message=d;var c=function(e,r,i,n,s,a,u,f,l,c){o.call(this,e,r,a),this.className="Message.Field",this.required="required"===i,this.repeated="repeated"===i,this.map="map"===i,this.keyType=n||null,this.type=s,this.resolvedType=null,this.id=u,this.options=f||{},this.defaultValue=null,this.oneof=l||null,this.syntax=c||"proto2",this.originalName=this.name,this.keyElement=this.element=null,!this.builder.options.convertFieldsToCamelCase||this instanceof d.ExtensionField||(this.name=t.Util.toCamelCase(this.name))};(l=c.prototype=Object.create(o.prototype)).build=function(){this.element=new f(this.type,this.resolvedType,!1,this.syntax,this.name),this.map&&(this.keyElement=new f(this.keyType,void 0,!0,this.syntax,this.name)),"proto3"!==this.syntax||this.repeated||this.map?void 0!==this.options.default&&(this.defaultValue=this.verifyValue(this.options.default)):this.defaultValue=f.defaultFieldValue(this.type)},l.verifyValue=function(e,r){function i(e,t){throw Error("Illegal value for "+n.toString(!0)+" of type "+n.type.name+": "+e+" ("+t+")")}r=r||!1;var n=this;if(null===e)return this.required&&i(void 0===e?"undefined":u(e),"required"),"proto3"===this.syntax&&this.type!==t.TYPES.message&&i(void 0===e?"undefined":u(e),"proto3 field without field presence cannot be null"),null;var o;if(this.repeated&&!r){Array.isArray(e)||(e=[e]);var s=[];for(o=0;o<e.length;o++)s.push(this.element.verifyValue(e[o]));return s}return this.map&&!r?e instanceof t.Map?e:(e instanceof Object||i(void 0===e?"undefined":u(e),"expected ProtoBuf.Map or raw object for map field"),new t.Map(this,e)):(!this.repeated&&Array.isArray(e)&&i(void 0===e?"undefined":u(e),"no array expected"),this.element.verifyValue(e))},l.hasWirePresence=function(e,r){if("proto3"!==this.syntax)return null!==e;if(this.oneof&&r[this.oneof.name]===this.name)return!0;switch(this.type){case t.TYPES.int32:case t.TYPES.sint32:case t.TYPES.sfixed32:case t.TYPES.uint32:case t.TYPES.fixed32:return 0!==e;case t.TYPES.int64:case t.TYPES.sint64:case t.TYPES.sfixed64:case t.TYPES.uint64:case t.TYPES.fixed64:return 0!==e.low||0!==e.high;case t.TYPES.bool:return e;case t.TYPES.float:case t.TYPES.double:return 0!==e;case t.TYPES.string:return 0<e.length;case t.TYPES.bytes:return 0<e.remaining();case t.TYPES.enum:return 0!==e;case t.TYPES.message:return null!==e;default:return!0}},l.encode=function(r,i,n){if(null===this.type||"object"!==u(this.type))throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===r||this.repeated&&0==r.length)return i;try{if(this.repeated){var o;if(this.options.packed&&0<=t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)){i.writeVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),i.ensureCapacity(i.offset+=1);l=i.offset;for(o=0;o<r.length;o++)this.element.encodeValue(this.id,r[o],i);var s=i.offset-l,a=e.calculateVarint32(s);if(1<a){var f=i.slice(l,i.offset),l=l+(a-1);i.offset=l,i.append(f)}i.writeVarint32(s,l-a)}else for(o=0;o<r.length;o++)i.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,r[o],i)}else this.map?r.forEach((function(r,n,o){o=e.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,n)+e.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,r),i.writeVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),i.writeVarint32(o),i.writeVarint32(8|this.keyType.wireType),this.keyElement.encodeValue(1,n,i),i.writeVarint32(16|this.type.wireType),this.element.encodeValue(2,r,i)}),this):this.hasWirePresence(r,n)&&(i.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,r,i))}catch(e){throw Error("Illegal value for "+this.toString(!0)+": "+r+" ("+e+")")}return i},l.calculate=function(r,i){if(r=this.verifyValue(r),null===this.type||"object"!==u(this.type))throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===r||this.repeated&&0==r.length)return 0;var n=0;try{if(this.repeated){var o,s;if(this.options.packed&&0<=t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)){for(n+=e.calculateVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),o=s=0;o<r.length;o++)s+=this.element.calculateLength(this.id,r[o]);n+=e.calculateVarint32(s),n+=s}else for(o=0;o<r.length;o++)n+=e.calculateVarint32(this.id<<3|this.type.wireType),n+=this.element.calculateLength(this.id,r[o])}else this.map?r.forEach((function(r,i,o){r=e.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,i)+e.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,r),n+=e.calculateVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),n+=e.calculateVarint32(r),n+=r}),this):this.hasWirePresence(r,i)&&(n+=e.calculateVarint32(this.id<<3|this.type.wireType),n+=this.element.calculateLength(this.id,r))}catch(e){throw Error("Illegal value for "+this.toString(!0)+": "+r+" ("+e+")")}return n},l.decode=function(e,r,i){if(!(!this.map&&e==this.type.wireType||!i&&this.repeated&&this.options.packed&&e==t.WIRE_TYPES.LDELIM||this.map&&e==t.WIRE_TYPES.LDELIM))throw Error("Illegal wire type for field "+this.toString(!0)+": "+e+" ("+this.type.wireType+" expected)");if(e==t.WIRE_TYPES.LDELIM&&this.repeated&&this.options.packed&&0<=t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)&&!i){for(e=r.readVarint32(),e=r.offset+e,i=[];r.offset<e;)i.push(this.decode(this.type.wireType,r,!0));return i}if(this.map){var n=f.defaultFieldValue(this.keyType);if(i=f.defaultFieldValue(this.type),e=r.readVarint32(),r.remaining()<e)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+e+" required but got only "+r.remaining());var o=r.clone();for(o.limit=o.offset+e,r.offset+=e;0<o.remaining();)if(r=o.readVarint32(),e=7&r,1===(r>>>=3))n=this.keyElement.decode(o,e,r);else{if(2!==r)throw Error("Unexpected tag in map field key/value submessage");i=this.element.decode(o,e,r)}return[n,i]}return this.element.decode(r,e,this.id)},n.Message.Field=c,(l=function(e,t,r,i,n,o,s){c.call(this,e,t,r,null,i,n,o,s)}).prototype=Object.create(c.prototype),n.Message.ExtensionField=l,n.Message.OneOf=function(e,t,r){o.call(this,e,t,r),this.fields=[]};var h=function(e,t,r,i,n){a.call(this,e,t,r,i,n),this.className="Enum",this.object=null};h.getName=function(e,t){for(var r,i=Object.keys(e),n=0;n<i.length;++n)if(e[r=i[n]]===t)return r;return null},(h.prototype=Object.create(a.prototype)).build=function(e){if(this.object&&!e)return this.object;e=new t.Builder.Enum;for(var r=this.getChildren(h.Value),i=0,n=r.length;i<n;++i)e[r[i].name]=r[i].id;return Object.defineProperty&&Object.defineProperty(e,"$options",{value:this.buildOpt(),enumerable:!1}),this.object=e},n.Enum=h,(l=function(e,t,r,i){o.call(this,e,t,r),this.className="Enum.Value",this.id=i}).prototype=Object.create(o.prototype),n.Enum.Value=l;var p=function(e,t,r,i){o.call(this,e,t,r),this.field=i};p.prototype=Object.create(o.prototype),n.Extension=p;var g=function(e,t,r,i){a.call(this,e,t,r,i),this.className="Service",this.clazz=null};(g.prototype=Object.create(a.prototype)).build=function(r){return this.clazz&&!r?this.clazz:this.clazz=(function(t,r){for(var i=function(e){t.Builder.Service.call(this),this.rpcImpl=e||function(e,t,r){setTimeout(r.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},n=i.prototype=Object.create(t.Builder.Service.prototype),o=r.getChildren(t.Reflect.Service.RPCMethod),s=0;s<o.length;s++)!(function(t){n[t.name]=function(i,n){try{try{i=t.resolvedRequestType.clazz.decode(e.wrap(i))}catch(e){if(!(e instanceof TypeError))throw e}if(null===i||"object"!==(void 0===i?"undefined":u(i)))throw Error("Illegal arguments");i instanceof t.resolvedRequestType.clazz||(i=new t.resolvedRequestType.clazz(i)),this.rpcImpl(t.fqn(),i,(function(e,i){if(e)n(e);else{null===i&&(i="");try{i=t.resolvedResponseType.clazz.decode(i)}catch(e){}i&&i instanceof t.resolvedResponseType.clazz?n(null,i):n(Error("Illegal response type received in service method "+r.name+"#"+t.name))}}))}catch(e){setTimeout(n.bind(this,e),0)}},i[t.name]=function(e,r,n){new i(e)[t.name](r,n)},Object.defineProperty&&(Object.defineProperty(i[t.name],"$options",{value:t.buildOpt()}),Object.defineProperty(n[t.name],"$options",{value:i[t.name].$options}))})(o[s]);return Object.defineProperty&&(Object.defineProperty(i,"$options",{value:r.buildOpt()}),Object.defineProperty(n,"$options",{value:i.$options}),Object.defineProperty(i,"$type",{value:r}),Object.defineProperty(n,"$type",{value:r})),i})(t,this)},n.Service=g;var y=function(e,t,r,i){o.call(this,e,t,r),this.className="Service.Method",this.options=i||{}};return(y.prototype=Object.create(o.prototype)).buildOpt=s.buildOpt,n.Service.Method=y,s=function(e,t,r,i,n,o,s,a){y.call(this,e,t,r,a),this.className="Service.RPCMethod",this.requestName=i,this.responseName=n,this.requestStream=o,this.responseStream=s,this.resolvedResponseType=this.resolvedRequestType=null},s.prototype=Object.create(y.prototype),n.Service.RPCMethod=s,n})(i),i.Builder=(function(e,t,i){function n(e){e.messages&&e.messages.forEach((function(t){t.syntax=e.syntax,n(t)})),e.enums&&e.enums.forEach((function(t){t.syntax=e.syntax}))}var o=function(e){this.ptr=this.ns=new i.Namespace(this,null,""),this.resolved=!1,this.result=null,this.files={},this.importRoot=null,this.options=e||{}},s=o.prototype;return o.isMessage=function(e){return"string"==typeof e.name&&void 0===e.values&&void 0===e.rpc},o.isMessageField=function(e){return"string"==typeof e.rule&&"string"==typeof e.name&&"string"==typeof e.type&&void 0!==e.id},o.isEnum=function(e){return!("string"!=typeof e.name||void 0===e.values||!Array.isArray(e.values)||0===e.values.length)},o.isService=function(e){return!("string"!=typeof e.name||"object"!==u(e.rpc)||!e.rpc)},o.isExtend=function(e){return"string"==typeof e.ref},s.reset=function(){return this.ptr=this.ns,this},s.define=function(e){if("string"!=typeof e||!t.TYPEREF.test(e))throw Error("illegal namespace: "+e);return e.split(".").forEach((function(e){var t=this.ptr.getChild(e);null===t&&this.ptr.addChild(t=new i.Namespace(this,this.ptr,e)),this.ptr=t}),this),this},s.create=function(t){if(!t)return this;if(Array.isArray(t)){if(0===t.length)return this;t=t.slice()}else t=[t];for(var r=[t];0<r.length;){if(t=r.pop(),!Array.isArray(t))throw Error("not a valid namespace: "+JSON.stringify(t));for(;0<t.length;){var n=t.shift();if(o.isMessage(n)){var s=new i.Message(this,this.ptr,n.name,n.options,n.isGroup,n.syntax),a={};n.oneofs&&Object.keys(n.oneofs).forEach((function(e){s.addChild(a[e]=new i.Message.OneOf(this,s,e))}),this),n.fields&&n.fields.forEach((function(e){if(null!==s.getChild(0|e.id))throw Error("duplicate or invalid field id in "+s.name+": "+e.id);if(e.options&&"object"!==u(e.options))throw Error("illegal field options in "+s.name+"#"+e.name);var t=null;if("string"==typeof e.oneof&&!(t=a[e.oneof]))throw Error("illegal oneof in "+s.name+"#"+e.name+": "+e.oneof);e=new i.Message.Field(this,s,e.rule,e.keytype,e.type,e.name,e.id,e.options,t,n.syntax),t&&t.fields.push(e),s.addChild(e)}),this);var f=[];if(n.enums&&n.enums.forEach((function(e){f.push(e)})),n.messages&&n.messages.forEach((function(e){f.push(e)})),n.services&&n.services.forEach((function(e){f.push(e)})),n.extensions&&(s.extensions="number"==typeof n.extensions[0]?[n.extensions]:n.extensions),this.ptr.addChild(s),0<f.length){r.push(t),t=f,f=null,this.ptr=s,s=null;continue}f=null}else if(o.isEnum(n))s=new i.Enum(this,this.ptr,n.name,n.options,n.syntax),n.values.forEach((function(e){s.addChild(new i.Enum.Value(this,s,e.name,e.id))}),this),this.ptr.addChild(s);else if(o.isService(n))s=new i.Service(this,this.ptr,n.name,n.options),Object.keys(n.rpc).forEach((function(e){var t=n.rpc[e];s.addChild(new i.Service.RPCMethod(this,s,e,t.request,t.response,!!t.request_stream,!!t.response_stream,t.options))}),this),this.ptr.addChild(s);else{if(!o.isExtend(n))throw Error("not a valid definition: "+JSON.stringify(n));if(s=this.ptr.resolve(n.ref,!0))n.fields.forEach((function(t){if(null!==s.getChild(0|t.id))throw Error("duplicate extended field id in "+s.name+": "+t.id);if(s.extensions){var r=!1;if(s.extensions.forEach((function(e){t.id>=e[0]&&t.id<=e[1]&&(r=!0)})),!r)throw Error("illegal extended field id in "+s.name+": "+t.id+" (not within valid ranges)")}n=t.name;this.options.convertFieldsToCamelCase&&(n=e.Util.toCamelCase(n));var n=new i.Message.ExtensionField(this,s,t.rule,t.type,this.ptr.fqn()+"."+n,t.id,t.options),o=new i.Extension(this,this.ptr,t.name,n);n.extension=o,this.ptr.addChild(o),s.addChild(n)}),this);else if(!/\.?google\.protobuf\./.test(n.ref))throw Error("extended message "+n.ref+" is not defined")}s=n=null}t=null,this.ptr=this.ptr.parent}return this.resolved=!1,this.result=null,this},s.import=function(t,i){var o="/";if("string"==typeof i){if(e.Util.IS_NODE&&(i=r(16).resolve(i)),!0===this.files[i])return this.reset();this.files[i]=!0}else if("object"===(void 0===i?"undefined":u(i))){var s=i.root;if(e.Util.IS_NODE&&(s=r(16).resolve(s)),(0<=s.indexOf("\\")||0<=i.file.indexOf("\\"))&&(o="\\"),s=e.Util.IS_NODE?r(16).join(s,i.file):s+o+i.file,!0===this.files[s])return this.reset();this.files[s]=!0}if(t.imports&&0<t.imports.length){var a=!1;"object"===(void 0===i?"undefined":u(i))?(this.importRoot=i.root,a=!0,s=this.importRoot,i=i.file,(0<=s.indexOf("\\")||0<=i.indexOf("\\"))&&(o="\\")):"string"==typeof i?this.importRoot?s=this.importRoot:0<=i.indexOf("/")?""===(s=i.replace(/\/[^\/]*$/,""))&&(s="/"):0<=i.indexOf("\\")?(s=i.replace(/\\[^\\]*$/,""),o="\\"):s=".":s=null;for(var f=0;f<t.imports.length;f++)if("string"==typeof t.imports[f]){if(!s)throw Error("cannot determine import root");var l=t.imports[f];if("google/protobuf/descriptor.proto"!==l&&(l=e.Util.IS_NODE?r(16).join(s,l):s+o+l,!0!==this.files[l])){/\.proto$/i.test(l)&&!e.DotProto&&(l=l.replace(/\.proto$/,".json"));var d=e.Util.fetch(l);if(null===d)throw Error("failed to import '"+l+"' in '"+i+"': file not found");/\.json$/i.test(l)?this.import(JSON.parse(d+""),l):this.import(e.DotProto.Parser.parse(d),l)}}else i?/\.(\w+)$/.test(i)?this.import(t.imports[f],i.replace(/^(.+)\.(\w+)$/,(function(e,t,r){return t+"_import"+f+"."+r}))):this.import(t.imports[f],i+"_import"+f):this.import(t.imports[f]);a&&(this.importRoot=null)}t.package&&this.define(t.package),t.syntax&&n(t);var c=this.ptr;return t.options&&Object.keys(t.options).forEach((function(e){c.options[e]=t.options[e]})),t.messages&&(this.create(t.messages),this.ptr=c),t.enums&&(this.create(t.enums),this.ptr=c),t.services&&(this.create(t.services),this.ptr=c),t.extends&&this.create(t.extends),this.reset()},s.resolveAll=function(){var r;if(null==this.ptr||"object"===u(this.ptr.type))return this;if(this.ptr instanceof i.Namespace)this.ptr.children.forEach((function(e){this.ptr=e,this.resolveAll()}),this);else if(this.ptr instanceof i.Message.Field){if(t.TYPE.test(this.ptr.type))this.ptr.type=e.TYPES[this.ptr.type];else{if(!t.TYPEREF.test(this.ptr.type))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(!(r=(this.ptr instanceof i.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0)))throw Error("unresolvable type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(this.ptr.resolvedType=r,r instanceof i.Enum){if(this.ptr.type=e.TYPES.enum,"proto3"===this.ptr.syntax&&"proto3"!==r.syntax)throw Error("proto3 message cannot reference proto2 enum")}else{if(!(r instanceof i.Message))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.type=r.isGroup?e.TYPES.group:e.TYPES.message}}if(this.ptr.map){if(!t.TYPE.test(this.ptr.keyType))throw Error("illegal key type for map field in "+this.ptr.toString(!0)+": "+this.ptr.keyType);this.ptr.keyType=e.TYPES[this.ptr.keyType]}"proto3"===this.ptr.syntax&&this.ptr.repeated&&void 0===this.ptr.options.packed&&-1!==e.PACKABLE_WIRE_TYPES.indexOf(this.ptr.type.wireType)&&(this.ptr.options.packed=!0)}else if(this.ptr instanceof e.Reflect.Service.Method){if(!(this.ptr instanceof e.Reflect.Service.RPCMethod))throw Error("illegal service type in "+this.ptr.toString(!0));if(!((r=this.ptr.parent.resolve(this.ptr.requestName,!0))&&r instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);if(this.ptr.resolvedRequestType=r,!((r=this.ptr.parent.resolve(this.ptr.responseName,!0))&&r instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=r}else if(!(this.ptr instanceof e.Reflect.Message.OneOf||this.ptr instanceof e.Reflect.Extension||this.ptr instanceof e.Reflect.Enum.Value))throw Error("illegal object in namespace: "+u(this.ptr)+": "+this.ptr);return this.reset()},s.build=function(e){if(this.reset(),this.resolved||(this.resolveAll(),this.resolved=!0,this.result=null),null===this.result&&(this.result=this.ns.build()),!e)return this.result;e="string"==typeof e?e.split("."):e;for(var t=this.result,r=0;r<e.length;r++){if(!t[e[r]]){t=null;break}t=t[e[r]]}return t},s.lookup=function(e,t){return e?this.ns.resolve(e,t):this.ns},s.toString=function(){return"Builder"},o.Message=function(){},o.Enum=function(){},o.Service=function(){},o})(i,i.Lang,i.Reflect),i.Map=(function(e,t){function r(e){var t=0;return{next:function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}}var i=function(e,r){if(!e.map)throw Error("field is not a map");if(this.field=e,this.keyElem=new t.Element(e.keyType,null,!0,e.syntax),this.valueElem=new t.Element(e.type,e.resolvedType,!1,e.syntax),this.map={},Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}}),r)for(var i=Object.keys(r),n=0;n<i.length;n++){var o=this.keyElem.valueFromString(i[n]),s=this.valueElem.verifyValue(r[i[n]]);this.map[this.keyElem.valueToString(o)]={key:o,value:s}}},n=i.prototype;return n.clear=function(){this.map={}},n.delete=function(e){var t=(e=this.keyElem.valueToString(this.keyElem.verifyValue(e)))in this.map;return delete this.map[e],t},n.entries=function(){for(var e,t=[],i=Object.keys(this.map),n=0;n<i.length;n++)t.push([(e=this.map[i[n]]).key,e.value]);return r(t)},n.keys=function(){for(var e=[],t=Object.keys(this.map),i=0;i<t.length;i++)e.push(this.map[t[i]].key);return r(e)},n.values=function(){for(var e=[],t=Object.keys(this.map),i=0;i<t.length;i++)e.push(this.map[t[i]].value);return r(e)},n.forEach=function(e,t){for(var r,i=Object.keys(this.map),n=0;n<i.length;n++)e.call(t,(r=this.map[i[n]]).value,r.key,this)},n.set=function(e,t){var r=this.keyElem.verifyValue(e),i=this.valueElem.verifyValue(t);return this.map[this.keyElem.valueToString(r)]={key:r,value:i},this},n.get=function(e){if((e=this.keyElem.valueToString(this.keyElem.verifyValue(e)))in this.map)return this.map[e].value},n.has=function(e){return this.keyElem.valueToString(this.keyElem.verifyValue(e))in this.map},i})(0,i.Reflect),i.newBuilder=function(e){return void 0===(e=e||{}).convertFieldsToCamelCase&&(e.convertFieldsToCamelCase=i.convertFieldsToCamelCase),void 0===e.populateAccessors&&(e.populateAccessors=i.populateAccessors),new i.Builder(e)},i.loadJson=function(e,t,r){return("string"==typeof t||t&&"string"==typeof t.file&&"string"==typeof t.root)&&(r=t,t=null),t&&"object"===(void 0===t?"undefined":u(t))||(t=i.newBuilder()),"string"==typeof e&&(e=JSON.parse(e)),t.import(e,r),t.resolveAll(),t},i.loadJsonFile=function(e,t,r){if(t&&"object"===(void 0===t?"undefined":u(t))?(r=t,t=null):t&&"function"==typeof t||(t=null),t)return i.Util.fetch("string"==typeof e?e:e.root+"/"+e.file,(function(n){if(null===n)t(Error("Failed to fetch file"));else try{t(null,i.loadJson(JSON.parse(n),r,e))}catch(e){t(e)}}));var n=i.Util.fetch("object"===(void 0===e?"undefined":u(e))?e.root+"/"+e.file:e);return null===n?null:i.loadJson(JSON.parse(n),r,e)},i}))}).call(t,r(20),r(270))}),(function(e,t){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function n(e){if(l===setTimeout)return setTimeout(e,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){g&&h&&(g=!1,h.length?p=h.concat(p):y=-1,p.length&&a())}function a(){if(!g){var e=n(s);g=!0;for(var t=p.length;t;){for(h=p,p=[];++y<t;)h&&h[y].run();y=-1,t=p.length}h=null,g=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function f(){}var l,d,c=e.exports={};!(function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(e){l=r}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}})();var h,p=[],g=!1,y=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.push(new u(e,t)),1!==p.length||g||n(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=f,c.addListener=f,c.once=f,c.off=f,c.removeListener=f,c.removeAllListeners=f,c.emit=f,c.prependListener=f,c.prependOnceListener=f,c.listeners=function(e){return[]},c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}}),(function(e,t,r){"use strict";var i,n,o,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!(function(s,a){n=[r(272)],void 0!==(o="function"==typeof(i=a)?i.apply(t,n):i)&&(e.exports=o)})(0,(function(e){function t(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function r(){var e=[],t=[];return function(){if(0===arguments.length)return t.join("")+f.apply(String,e);e.length+arguments.length>1024&&(t.push(f.apply(String,e)),e.length=0),Array.prototype.push.apply(e,arguments)}}function i(e,t,r,i,n){var o,s,a=8*n-i-1,u=(1<<a)-1,f=u>>1,l=-7,d=r?n-1:0,c=r?-1:1,h=e[t+d];for(d+=c,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+d],d+=c,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=i;l>0;s=256*s+e[t+d],d+=c,l-=8);if(0===o)o=1-f;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,i),o-=f}return(h?-1:1)*s*Math.pow(2,o-i)}function n(e,t,r,i,n,o){var s,a,u,f=8*o-n-1,l=(1<<f)-1,d=l>>1,c=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,p=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+d>=1?c/u:c*Math.pow(2,1-d))*u>=2&&(s++,u/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(t*u-1)*Math.pow(2,n),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,n),s=0));n>=8;e[r+h]=255&a,h+=p,a/=256,n-=8);for(s=s<<n|a,f+=n;f>0;e[r+h]=255&s,h+=p,s/=256,f-=8);e[r+h-p]|=128*g}var o=function e(t,r,i){if(void 0===t&&(t=e.DEFAULT_CAPACITY),void 0===r&&(r=e.DEFAULT_ENDIAN),void 0===i&&(i=e.DEFAULT_NOASSERT),!i){if((t|=0)<0)throw RangeError("Illegal capacity");r=!!r,i=!!i}this.buffer=0===t?u:new ArrayBuffer(t),this.view=0===t?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=t,this.littleEndian=r,this.noAssert=i};o.VERSION="5.0.1",o.LITTLE_ENDIAN=!0,o.DEFAULT_CAPACITY=16,o.DEFAULT_ENDIAN=o.BIG_ENDIAN=!1,o.DEFAULT_NOASSERT=!1,o.Long=e||null;var a=o.prototype;a.__isByteBuffer__,Object.defineProperty(a,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var u=new ArrayBuffer(0),f=String.fromCharCode;o.accessor=function(){return Uint8Array},o.allocate=function(e,t,r){return new o(e,t,r)},o.concat=function(e,t,r,i){"boolean"!=typeof t&&"string"==typeof t||(i=r,r=t,t=void 0);for(var n,s=0,a=0,u=e.length;a<u;++a)o.isByteBuffer(e[a])||(e[a]=o.wrap(e[a],t)),(n=e[a].limit-e[a].offset)>0&&(s+=n);if(0===s)return new o(0,r,i);var f,l=new o(s,r,i);for(a=0;a<u;)(n=(f=e[a++]).limit-f.offset)<=0||(l.view.set(f.view.subarray(f.offset,f.limit),l.offset),l.offset+=n);return l.limit=l.offset,l.offset=0,l},o.isByteBuffer=function(e){return!0===(e&&e.__isByteBuffer__)},o.type=function(){return ArrayBuffer},o.wrap=function(e,t,r,i){if("string"!=typeof t&&(i=r,r=t,t=void 0),"string"==typeof e)switch(void 0===t&&(t="utf8"),t){case"base64":return o.fromBase64(e,r);case"hex":return o.fromHex(e,r);case"binary":return o.fromBinary(e,r);case"utf8":return o.fromUTF8(e,r);case"debug":return o.fromDebug(e,r);default:throw Error("Unsupported encoding: "+t)}if(null===e||"object"!==(void 0===e?"undefined":s(e)))throw TypeError("Illegal buffer");var n;if(o.isByteBuffer(e))return n=a.clone.call(e),n.markedOffset=-1,n;if(e instanceof Uint8Array)n=new o(0,r,i),e.length>0&&(n.buffer=e.buffer,n.offset=e.byteOffset,n.limit=e.byteOffset+e.byteLength,n.view=new Uint8Array(e.buffer));else if(e instanceof ArrayBuffer)n=new o(0,r,i),e.byteLength>0&&(n.buffer=e,n.offset=0,n.limit=e.byteLength,n.view=e.byteLength>0?new Uint8Array(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");(n=new o(e.length,r,i)).limit=e.length;for(var u=0;u<e.length;++u)n.view[u]=e[u]}return n},a.writeBitSet=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if(!(e instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,n=t,o=e.length,s=o>>3,a=0;for(t+=this.writeVarint32(o,t);s--;)i=1&!!e[a++]|(1&!!e[a++])<<1|(1&!!e[a++])<<2|(1&!!e[a++])<<3|(1&!!e[a++])<<4|(1&!!e[a++])<<5|(1&!!e[a++])<<6|(1&!!e[a++])<<7,this.writeByte(i,t++);if(a<o){var u=0;for(i=0;a<o;)i|=(1&!!e[a++])<<u++;this.writeByte(i,t++)}return r?(this.offset=t,this):t-n},a.readBitSet=function(e){var t=void 0===e;t&&(e=this.offset);var r,i=this.readVarint32(e),n=i.value,o=n>>3,s=0,a=[];for(e+=i.length;o--;)r=this.readByte(e++),a[s++]=!!(1&r),a[s++]=!!(2&r),a[s++]=!!(4&r),a[s++]=!!(8&r),a[s++]=!!(16&r),a[s++]=!!(32&r),a[s++]=!!(64&r),a[s++]=!!(128&r);if(s<n){var u=0;for(r=this.readByte(e++);s<n;)a[s++]=!!(r>>u++&1)}return t&&(this.offset=e),a},a.readBytes=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+e+") <= "+this.buffer.byteLength)}var i=this.slice(t,t+e);return r&&(this.offset+=e),i},a.writeBytes=a.append,a.writeInt8=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view[t]=e,r&&(this.offset+=1),this},a.writeByte=a.writeInt8,a.readInt8=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view[e];return 128==(128&r)&&(r=-(255-r+1)),t&&(this.offset+=1),r},a.readByte=a.readInt8,a.writeUint8=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view[t]=e,r&&(this.offset+=1),this},a.writeUInt8=a.writeUint8,a.readUint8=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view[e];return t&&(this.offset+=1),r},a.readUInt8=a.readUint8,a.writeInt16=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),r&&(this.offset+=2),this},a.writeShort=a.writeInt16,a.readInt16=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e],r|=this.view[e+1]<<8):(r=this.view[e]<<8,r|=this.view[e+1]),32768==(32768&r)&&(r=-(65535-r+1)),t&&(this.offset+=2),r},a.readShort=a.readInt16,a.writeUint16=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),r&&(this.offset+=2),this},a.writeUInt16=a.writeUint16,a.readUint16=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e],r|=this.view[e+1]<<8):(r=this.view[e]<<8,r|=this.view[e+1]),t&&(this.offset+=2),r},a.readUInt16=a.readUint16,a.writeInt32=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),r&&(this.offset+=4),this},a.writeInt=a.writeInt32,a.readInt32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0):(r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0),r|=0,t&&(this.offset+=4),r},a.readInt=a.readInt32,a.writeUint32=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),r&&(this.offset+=4),this},a.writeUInt32=a.writeUint32,a.readUint32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0):(r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0),t&&(this.offset+=4),r},a.readUInt32=a.readUint32,e&&(a.writeInt64=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),r+=8;var n=this.buffer.byteLength;r>n&&this.resize((n*=2)>r?n:r),r-=8;var o=t.low,s=t.high;return this.littleEndian?(this.view[r+3]=o>>>24&255,this.view[r+2]=o>>>16&255,this.view[r+1]=o>>>8&255,this.view[r]=255&o,r+=4,this.view[r+3]=s>>>24&255,this.view[r+2]=s>>>16&255,this.view[r+1]=s>>>8&255,this.view[r]=255&s):(this.view[r]=s>>>24&255,this.view[r+1]=s>>>16&255,this.view[r+2]=s>>>8&255,this.view[r+3]=255&s,r+=4,this.view[r]=o>>>24&255,this.view[r+1]=o>>>16&255,this.view[r+2]=o>>>8&255,this.view[r+3]=255&o),i&&(this.offset+=8),this},a.writeLong=a.writeInt64,a.readInt64=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=0,n=0;this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0,t+=4,n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0):(n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0,t+=4,i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0);var o=new e(i,n,!1);return r&&(this.offset+=8),o},a.readLong=a.readInt64,a.writeUint64=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),r+=8;var n=this.buffer.byteLength;r>n&&this.resize((n*=2)>r?n:r),r-=8;var o=t.low,s=t.high;return this.littleEndian?(this.view[r+3]=o>>>24&255,this.view[r+2]=o>>>16&255,this.view[r+1]=o>>>8&255,this.view[r]=255&o,r+=4,this.view[r+3]=s>>>24&255,this.view[r+2]=s>>>16&255,this.view[r+1]=s>>>8&255,this.view[r]=255&s):(this.view[r]=s>>>24&255,this.view[r+1]=s>>>16&255,this.view[r+2]=s>>>8&255,this.view[r+3]=255&s,r+=4,this.view[r]=o>>>24&255,this.view[r+1]=o>>>16&255,this.view[r+2]=o>>>8&255,this.view[r+3]=255&o),i&&(this.offset+=8),this},a.writeUInt64=a.writeUint64,a.readUint64=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=0,n=0;this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0,t+=4,n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0):(n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0,t+=4,i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0);var o=new e(i,n,!0);return r&&(this.offset+=8),o},a.readUInt64=a.readUint64),a.writeFloat32=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,n(this.view,e,t,this.littleEndian,23,4),r&&(this.offset+=4),this},a.writeFloat=a.writeFloat32,a.readFloat32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=i(this.view,e,this.littleEndian,23,4);return t&&(this.offset+=4),r},a.readFloat=a.readFloat32,a.writeFloat64=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=8,n(this.view,e,t,this.littleEndian,52,8),r&&(this.offset+=8),this},a.writeDouble=a.writeFloat64,a.readFloat64=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=i(this.view,e,this.littleEndian,52,8);return t&&(this.offset+=8),r},a.readDouble=a.readFloat64,o.MAX_VARINT32_BYTES=5,o.calculateVarint32=function(e){return(e>>>=0)<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5},o.zigZagEncode32=function(e){return((e|=0)<<1^e>>31)>>>0},o.zigZagDecode32=function(e){return e>>>1^-(1&e)|0},a.writeVarint32=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,n=o.calculateVarint32(e);t+=n;var s=this.buffer.byteLength;for(t>s&&this.resize((s*=2)>t?s:t),t-=n,e>>>=0;e>=128;)i=127&e|128,this.view[t++]=i,e>>>=7;return this.view[t++]=e,r?(this.offset=t,this):n},a.writeVarint32ZigZag=function(e,t){return this.writeVarint32(o.zigZagEncode32(e),t)},a.readVarint32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r,i=0,n=0;do{if(!this.noAssert&&e>this.limit){var o=Error("Truncated");throw o.truncated=!0,o}r=this.view[e++],i<5&&(n|=(127&r)<<7*i),++i}while(0!=(128&r));return n|=0,t?(this.offset=e,n):{value:n,length:i}},a.readVarint32ZigZag=function(e){var t=this.readVarint32(e);return"object"===(void 0===t?"undefined":s(t))?t.value=o.zigZagDecode32(t.value):t=o.zigZagDecode32(t),t},e&&(o.MAX_VARINT64_BYTES=10,o.calculateVarint64=function(t){"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t));var r=t.toInt()>>>0,i=t.shiftRightUnsigned(28).toInt()>>>0,n=t.shiftRightUnsigned(56).toInt()>>>0;return 0==n?0==i?r<16384?r<128?1:2:r<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:n<128?9:10},o.zigZagEncode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},o.zigZagDecode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()},a.writeVarint64=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned());var n=o.calculateVarint64(t),s=t.toInt()>>>0,a=t.shiftRightUnsigned(28).toInt()>>>0,u=t.shiftRightUnsigned(56).toInt()>>>0;r+=n;var f=this.buffer.byteLength;switch(r>f&&this.resize((f*=2)>r?f:r),r-=n,n){case 10:this.view[r+9]=u>>>7&1;case 9:this.view[r+8]=9!==n?128|u:127&u;case 8:this.view[r+7]=8!==n?a>>>21|128:a>>>21&127;case 7:this.view[r+6]=7!==n?a>>>14|128:a>>>14&127;case 6:this.view[r+5]=6!==n?a>>>7|128:a>>>7&127;case 5:this.view[r+4]=5!==n?128|a:127&a;case 4:this.view[r+3]=4!==n?s>>>21|128:s>>>21&127;case 3:this.view[r+2]=3!==n?s>>>14|128:s>>>14&127;case 2:this.view[r+1]=2!==n?s>>>7|128:s>>>7&127;case 1:this.view[r]=1!==n?128|s:127&s}return i?(this.offset+=n,this):n},a.writeVarint64ZigZag=function(e,t){return this.writeVarint64(o.zigZagEncode64(e),t)},a.readVarint64=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=t,n=0,o=0,s=0,a=0;if(a=this.view[t++],n=127&a,128&a&&(a=this.view[t++],n|=(127&a)<<7,(128&a||this.noAssert&&void 0===a)&&(a=this.view[t++],n|=(127&a)<<14,(128&a||this.noAssert&&void 0===a)&&(a=this.view[t++],n|=(127&a)<<21,(128&a||this.noAssert&&void 0===a)&&(a=this.view[t++],o=127&a,(128&a||this.noAssert&&void 0===a)&&(a=this.view[t++],o|=(127&a)<<7,(128&a||this.noAssert&&void 0===a)&&(a=this.view[t++],o|=(127&a)<<14,(128&a||this.noAssert&&void 0===a)&&(a=this.view[t++],o|=(127&a)<<21,(128&a||this.noAssert&&void 0===a)&&(a=this.view[t++],s=127&a,(128&a||this.noAssert&&void 0===a)&&(a=this.view[t++],s|=(127&a)<<7,128&a||this.noAssert&&void 0===a))))))))))throw Error("Buffer overrun");var u=e.fromBits(n|o<<28,o>>>4|s<<24,!1);return r?(this.offset=t,u):{value:u,length:t-i}},a.readVarint64ZigZag=function(t){var r=this.readVarint64(t);return r&&r.value instanceof e?r.value=o.zigZagDecode64(r.value):r=o.zigZagDecode64(r),r}),a.writeCString=function(e,r){var i=void 0===r;i&&(r=this.offset);var n,o=e.length;if(!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(n=0;n<o;++n)if(0===e.charCodeAt(n))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}o=d.calculateUTF16asUTF8(t(e))[1],r+=o+1;var s=this.buffer.byteLength;return r>s&&this.resize((s*=2)>r?s:r),r-=o+1,d.encodeUTF16toUTF8(t(e),function(e){this.view[r++]=e}.bind(this)),this.view[r++]=0,i?(this.offset=r,this):o},a.readCString=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i,n=e,o=-1;return d.decodeUTF8toUTF16(function(){if(0===o)return null;if(e>=this.limit)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.limit);return 0===(o=this.view[e++])?null:o}.bind(this),i=r(),!0),t?(this.offset=e,i()):{string:i(),length:e-n}},a.writeIString=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,o=r;n=d.calculateUTF16asUTF8(t(e),this.noAssert)[1],r+=4+n;var s=this.buffer.byteLength;if(r>s&&this.resize((s*=2)>r?s:r),r-=4+n,this.littleEndian?(this.view[r+3]=n>>>24&255,this.view[r+2]=n>>>16&255,this.view[r+1]=n>>>8&255,this.view[r]=255&n):(this.view[r]=n>>>24&255,this.view[r+1]=n>>>16&255,this.view[r+2]=n>>>8&255,this.view[r+3]=255&n),r+=4,d.encodeUTF16toUTF8(t(e),function(e){this.view[r++]=e}.bind(this)),r!==o+4+n)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+4+n));return i?(this.offset=r,this):r-o},a.readIString=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=e,i=this.readUint32(e),n=this.readUTF8String(i,o.METRICS_BYTES,e+=4);return e+=n.length,t?(this.offset=e,n.string):{string:n.string,length:e-r}},o.METRICS_CHARS="c",o.METRICS_BYTES="b",a.writeUTF8String=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,o=r;n=d.calculateUTF16asUTF8(t(e))[1],r+=n;var s=this.buffer.byteLength;return r>s&&this.resize((s*=2)>r?s:r),r-=n,d.encodeUTF16toUTF8(t(e),function(e){this.view[r++]=e}.bind(this)),i?(this.offset=r,this):r-o},a.writeString=a.writeUTF8String,o.calculateUTF8Chars=function(e){return d.calculateUTF16asUTF8(t(e))[0]},o.calculateString=o.calculateUTF8Bytes=function(e){return d.calculateUTF16asUTF8(t(e))[1]},a.readUTF8String=function(e,t,i){"number"==typeof t&&(i=t,t=void 0);var n=void 0===i;if(n&&(i=this.offset),void 0===t&&(t=o.METRICS_CHARS),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var s,a=0,u=i;if(t===o.METRICS_CHARS){if(s=r(),d.decodeUTF8(function(){return a<e&&i<this.limit?this.view[i++]:null}.bind(this),(function(e){++a,d.UTF8toUTF16(e,s)})),a!==e)throw RangeError("Illegal range: Truncated data, "+a+" == "+e);return n?(this.offset=i,s()):{string:s(),length:i-u}}if(t===o.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+"+e+") <= "+this.buffer.byteLength)}var f=i+e;if(d.decodeUTF8toUTF16(function(){return i<f?this.view[i++]:null}.bind(this),s=r(),this.noAssert),i!==f)throw RangeError("Illegal range: Truncated data, "+i+" == "+f);return n?(this.offset=i,s()):{string:s(),length:i-u}}throw TypeError("Unsupported metrics: "+t)},a.readString=a.readUTF8String,a.writeVString=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,s,a=r;n=d.calculateUTF16asUTF8(t(e),this.noAssert)[1],s=o.calculateVarint32(n),r+=s+n;var u=this.buffer.byteLength;if(r>u&&this.resize((u*=2)>r?u:r),r-=s+n,r+=this.writeVarint32(n,r),d.encodeUTF16toUTF8(t(e),function(e){this.view[r++]=e}.bind(this)),r!==a+n+s)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+n+s));return i?(this.offset=r,this):r-a},a.readVString=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=e,i=this.readVarint32(e),n=this.readUTF8String(i.value,o.METRICS_BYTES,e+=i.length);return e+=n.length,t?(this.offset=e,n.string):{string:n.string,length:e-r}},a.append=function(e,t,r){"number"!=typeof t&&"string"==typeof t||(r=t,t=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof o||(e=o.wrap(e,t));var n=e.limit-e.offset;if(n<=0)return this;r+=n;var s=this.buffer.byteLength;return r>s&&this.resize((s*=2)>r?s:r),r-=n,this.view.set(e.view.subarray(e.offset,e.limit),r),e.offset+=n,i&&(this.offset+=n),this},a.appendTo=function(e,t){return e.append(this,t),this},a.assert=function(e){return this.noAssert=!e,this},a.capacity=function(){return this.buffer.byteLength},a.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},a.clone=function(e){var t=new o(0,this.littleEndian,this.noAssert);return e?(t.buffer=new ArrayBuffer(this.buffer.byteLength),t.view=new Uint8Array(t.buffer)):(t.buffer=this.buffer,t.view=this.view),t.offset=this.offset,t.markedOffset=this.markedOffset,t.limit=this.limit,t},a.compact=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var r=t-e;if(0===r)return this.buffer=u,this.view=null,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=0,this;var i=new ArrayBuffer(r),n=new Uint8Array(i);return n.set(this.view.subarray(e,t)),this.buffer=i,this.view=n,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=r,this},a.copy=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return new o(0,this.littleEndian,this.noAssert);var r=t-e,i=new o(r,this.littleEndian,this.noAssert);return i.offset=0,i.limit=r,i.markedOffset>=0&&(i.markedOffset-=e),this.copyTo(i,0,e,t),i},a.copyTo=function(e,t,r,i){var n,s;if(!this.noAssert&&!o.isByteBuffer(e))throw TypeError("Illegal target: Not a ByteBuffer");if(t=(s=void 0===t)?e.offset:0|t,r=(n=void 0===r)?this.offset:0|r,i=void 0===i?this.limit:0|i,t<0||t>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+t+" <= "+e.buffer.byteLength);if(r<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var a=i-r;return 0===a?e:(e.ensureCapacity(t+a),e.view.set(this.view.subarray(r,i),t),n&&(this.offset+=a),s&&(e.offset+=a),this)},a.ensureCapacity=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},a.fill=function(e,t,r){var i=void 0===t;if(i&&(t=this.offset),"string"==typeof e&&e.length>0&&(e=e.charCodeAt(0)),void 0===t&&(t=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(t>=r)return this;for(;t<r;)this.view[t++]=e;return i&&(this.offset=t),this},a.flip=function(){return this.limit=this.offset,this.offset=0,this},a.mark=function(e){if(e=void 0===e?this.offset:e,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=e,this},a.order=function(e){if(!this.noAssert&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!e,this},a.LE=function(e){return this.littleEndian=void 0===e||!!e,this},a.BE=function(e){return this.littleEndian=void 0!==e&&!e,this},a.prepend=function(e,t,r){"number"!=typeof t&&"string"==typeof t||(r=t,t=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof o||(e=o.wrap(e,t));var n=e.limit-e.offset;if(n<=0)return this;var s=n-r;if(s>0){var a=new ArrayBuffer(this.buffer.byteLength+s),u=new Uint8Array(a);u.set(this.view.subarray(r,this.buffer.byteLength),n),this.buffer=a,this.view=u,this.offset+=s,this.markedOffset>=0&&(this.markedOffset+=s),this.limit+=s,r+=s}else new Uint8Array(this.buffer);return this.view.set(e.view.subarray(e.offset,e.limit),r-n),e.offset=e.limit,i&&(this.offset-=n),this},a.prependTo=function(e,t){return e.prepend(this,t),this},a.printDebug=function(e){"function"!=typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},a.remaining=function(){return this.limit-this.offset},a.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},a.resize=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if((e|=0)<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e),r=new Uint8Array(t);r.set(this.view),this.buffer=t,this.view=r}return this},a.reverse=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t?this:(Array.prototype.reverse.call(this.view.subarray(e,t)),this)},a.skip=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.noAssert&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},a.slice=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var r=this.clone();return r.offset=e,r.limit=t,r},a.toBuffer=function(e){var t=this.offset,r=this.limit;if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(!e&&0===t&&r===this.buffer.byteLength)return this.buffer;if(t===r)return u;var i=new ArrayBuffer(r-t);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(t,r),0),i},a.toArrayBuffer=a.toBuffer,a.toString=function(e,t,r){if(void 0===e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof e&&(e="utf8",t=e,r=t),e){case"utf8":return this.toUTF8(t,r);case"base64":return this.toBase64(t,r);case"hex":return this.toHex(t,r);case"binary":return this.toBinary(t,r);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+e)}};var l=(function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],r=[],i=0,n=t.length;i<n;++i)r[t[i]]=i;return e.encode=function(e,r){for(var i,n;null!==(i=e());)r(t[i>>2&63]),n=(3&i)<<4,null!==(i=e())?(r(t[63&((n|=i>>4&15)|i>>4&15)]),n=(15&i)<<2,null!==(i=e())?(r(t[63&(n|i>>6&3)]),r(t[63&i])):(r(t[63&n]),r(61))):(r(t[63&n]),r(61),r(61))},e.decode=function(e,t){function i(e){throw Error("Illegal character code: "+e)}for(var n,o,s;null!==(n=e());)if(void 0===(o=r[n])&&i(n),null!==(n=e())&&(void 0===(s=r[n])&&i(n),t(o<<2>>>0|(48&s)>>4),null!==(n=e()))){if(void 0===(o=r[n])){if(61===n)break;i(n)}if(t((15&s)<<4>>>0|(60&o)>>2),null!==(n=e())){if(void 0===(s=r[n])){if(61===n)break;i(n)}t((3&o)<<6>>>0|s)}}},e.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},e})();a.toBase64=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),e|=0,t|=0,e<0||t>this.capacity||e>t)throw RangeError("begin, end");var i;return l.encode(function(){return e<t?this.view[e++]:null}.bind(this),i=r()),i()},o.fromBase64=function(e,r){if("string"!=typeof e)throw TypeError("str");var i=new o(e.length/4*3,r),n=0;return l.decode(t(e),(function(e){i.view[n++]=e})),i.limit=n,i},o.btoa=function(e){return o.fromBinary(e).toBase64()},o.atob=function(e){return o.fromBase64(e).toBinary()},a.toBinary=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),e|=0,t|=0,e<0||t>this.capacity()||e>t)throw RangeError("begin, end");if(e===t)return"";for(var r=[],i=[];e<t;)r.push(this.view[e++]),r.length>=1024&&(i.push(String.fromCharCode.apply(String,r)),r=[]);return i.join("")+String.fromCharCode.apply(String,r)},o.fromBinary=function(e,t){if("string"!=typeof e)throw TypeError("str");for(var r,i=0,n=e.length,s=new o(n,t);i<n;){if((r=e.charCodeAt(i))>255)throw RangeError("illegal char code: "+r);s.view[i++]=r}return s.limit=n,s},a.toDebug=function(e){for(var t,r=-1,i=this.buffer.byteLength,n="",o="",s="";r<i;){if(-1!==r&&(n+=(t=this.view[r])<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(o+=t>32&&t<127?String.fromCharCode(t):".")),++r,e&&r>0&&r%16==0&&r!==i){for(;n.length<51;)n+=" ";s+=n+o+"\n",n=o=""}r===this.offset&&r===this.limit?n+=r===this.markedOffset?"!":"|":r===this.offset?n+=r===this.markedOffset?"[":"<":r===this.limit?n+=r===this.markedOffset?"]":">":n+=r===this.markedOffset?"'":e||0!==r&&r!==i?" ":""}if(e&&" "!==n){for(;n.length<51;)n+=" ";s+=n+o+"\n"}return e?s:n},o.fromDebug=function(e,t,r){for(var i,n,s=e.length,a=new o((s+1)/3|0,t,r),u=0,f=0,l=!1,d=!1,c=!1,h=!1,p=!1;u<s;){switch(i=e.charAt(u++)){case"!":if(!r){if(d||c||h){p=!0;break}d=c=h=!0}a.offset=a.markedOffset=a.limit=f,l=!1;break;case"|":if(!r){if(d||h){p=!0;break}d=h=!0}a.offset=a.limit=f,l=!1;break;case"[":if(!r){if(d||c){p=!0;break}d=c=!0}a.offset=a.markedOffset=f,l=!1;break;case"<":if(!r){if(d){p=!0;break}d=!0}a.offset=f,l=!1;break;case"]":if(!r){if(h||c){p=!0;break}h=c=!0}a.limit=a.markedOffset=f,l=!1;break;case">":if(!r){if(h){p=!0;break}h=!0}a.limit=f,l=!1;break;case"'":if(!r){if(c){p=!0;break}c=!0}a.markedOffset=f,l=!1;break;case" ":l=!1;break;default:if(!r&&l){p=!0;break}if(n=parseInt(i+e.charAt(u++),16),!r&&(isNaN(n)||n<0||n>255))throw TypeError("Illegal str: Not a debug encoded string");a.view[f++]=n,l=!0}if(p)throw TypeError("Illegal str: Invalid symbol at "+u)}if(!r){if(!d||!h)throw TypeError("Illegal str: Missing offset or limit");if(f<a.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+f+" < "+s)}return a},a.toHex=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.limit:t,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var r,i=new Array(t-e);e<t;)(r=this.view[e++])<16?i.push("0",r.toString(16)):i.push(r.toString(16));return i.join("")},o.fromHex=function(e,t,r){if(!r){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,n=e.length,s=new o(n/2|0,t),a=0,u=0;a<n;a+=2){if(i=parseInt(e.substring(a,a+2),16),!r&&(!isFinite(i)||i<0||i>255))throw TypeError("Illegal str: Contains non-hex characters");s.view[u++]=i}return s.limit=u,s};var d=(function(){var e={};return e.MAX_CODEPOINT=1114111,e.encodeUTF8=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<128?t(127&r):r<2048?(t(r>>6&31|192),t(63&r|128)):r<65536?(t(r>>12&15|224),t(r>>6&63|128),t(63&r|128)):(t(r>>18&7|240),t(r>>12&63|128),t(r>>6&63|128),t(63&r|128)),r=null},e.decodeUTF8=function(e,t){for(var r,i,n,o,s=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(r=e());)if(0==(128&r))t(r);else if(192==(224&r))null===(i=e())&&s([r,i]),t((31&r)<<6|63&i);else if(224==(240&r))(null===(i=e())||null===(n=e()))&&s([r,i,n]),t((15&r)<<12|(63&i)<<6|63&n);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);(null===(i=e())||null===(n=e())||null===(o=e()))&&s([r,i,n,o]),t((7&r)<<18|(63&i)<<12|(63&n)<<6|63&o)}},e.UTF16toUTF8=function(e,t){for(var r,i=null;;){if(null===(r=null!==i?i:e()))break;r>=55296&&r<=57343&&null!==(i=e())&&i>=56320&&i<=57343?(t(1024*(r-55296)+i-56320+65536),i=null):t(r)}null!==i&&t(i)},e.UTF8toUTF16=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<=65535?t(r):(r-=65536,t(55296+(r>>10)),t(r%1024+56320)),r=null},e.encodeUTF16toUTF8=function(t,r){e.UTF16toUTF8(t,(function(t){e.encodeUTF8(t,r)}))},e.decodeUTF8toUTF16=function(t,r){e.decodeUTF8(t,(function(t){e.UTF8toUTF16(t,r)}))},e.calculateCodePoint=function(e){return e<128?1:e<2048?2:e<65536?3:4},e.calculateUTF8=function(e){for(var t,r=0;null!==(t=e());)r+=t<128?1:t<2048?2:t<65536?3:4;return r},e.calculateUTF16asUTF8=function(t){var r=0,i=0;return e.UTF16toUTF8(t,(function(e){++r,i+=e<128?1:e<2048?2:e<65536?3:4})),[r,i]},e})();return a.toUTF8=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var i;try{d.decodeUTF8toUTF16(function(){return e<t?this.view[e++]:null}.bind(this),i=r())}catch(r){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return i()},o.fromUTF8=function(e,r,i){if(!i&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var n=new o(d.calculateUTF16asUTF8(t(e),!0)[1],r,i),s=0;return d.encodeUTF16toUTF8(t(e),(function(e){n.view[s++]=e})),n.limit=s,n},o}))}),(function(e,t,r){"use strict";var i,n,o;"function"==typeof Symbol&&Symbol.iterator;!(function(r,s){n=[],void 0!==(o="function"==typeof(i=s)?i.apply(t,n):i)&&(e.exports=o)})(0,(function(){function e(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function t(e){return!0===(e&&e.__isLong__)}function r(e,t){var r,i,o;return t?(e>>>=0,(o=0<=e&&e<256)&&(i=u[e])?i:(r=n(e,(0|e)<0?-1:0,!0),o&&(u[e]=r),r)):(e|=0,(o=-128<=e&&e<128)&&(i=a[e])?i:(r=n(e,e<0?-1:0,!1),o&&(a[e]=r),r))}function i(e,t){if(isNaN(e)||!isFinite(e))return t?g:p;if(t){if(e<0)return g;if(e>=d)return E}else{if(e<=-c)return w;if(e+1>=c)return m}return e<0?i(-e,t).neg():n(e%l|0,e/l|0,t)}function n(t,r,i){return new e(t,r,i)}function o(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return p;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return o(e.substring(1),t,r).neg();for(var s=i(f(r,8)),a=p,u=0;u<e.length;u+=8){var l=Math.min(8,e.length-u),d=parseInt(e.substring(u,u+l),r);if(l<8){var c=i(f(r,l));a=a.mul(c).add(i(d))}else a=(a=a.mul(s)).add(i(d))}return a.unsigned=t,a}function s(t){return t instanceof e?t:"number"==typeof t?i(t):"string"==typeof t?o(t):n(t.low,t.high,t.unsigned)}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=t;var a={},u={};e.fromInt=r,e.fromNumber=i,e.fromBits=n;var f=Math.pow;e.fromString=o,e.fromValue=s;var l=4294967296,d=l*l,c=d/2,h=r(1<<24),p=r(0);e.ZERO=p;var g=r(0,!0);e.UZERO=g;var y=r(1);e.ONE=y;var v=r(1,!0);e.UONE=v;var b=r(-1);e.NEG_ONE=b;var m=n(-1,2147483647,!1);e.MAX_VALUE=m;var E=n(-1,-1,!0);e.MAX_UNSIGNED_VALUE=E;var w=n(0,-2147483648,!1);e.MIN_VALUE=w;var T=e.prototype;return T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*l+(this.low>>>0):this.high*l+(this.low>>>0)},T.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(w)){var t=i(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=i(f(e,6),this.unsigned),s=this,a="";;){var u=s.div(o),l=(s.sub(u.mul(o)).toInt()>>>0).toString(e);if((s=u).isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(w)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return 1==(1&this.low)},T.isEven=function(){return 0==(1&this.low)},T.equals=function(e){return t(e)||(e=s(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.lessThan=function(e){return this.comp(e)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return this.comp(e)<=0},T.lte=T.lessThanOrEqual,T.greaterThan=function(e){return this.comp(e)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return this.comp(e)>=0},T.gte=T.greaterThanOrEqual,T.compare=function(e){if(t(e)||(e=s(e)),this.eq(e))return 0;var r=this.isNegative(),i=e.isNegative();return r&&!i?-1:!r&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(w)?w:this.not().add(y)},T.neg=T.negate,T.add=function(e){t(e)||(e=s(e));var r=this.high>>>16,i=65535&this.high,o=this.low>>>16,a=65535&this.low,u=e.high>>>16,f=65535&e.high,l=e.low>>>16,d=0,c=0,h=0,p=0;return p+=a+(65535&e.low),h+=p>>>16,p&=65535,h+=o+l,c+=h>>>16,h&=65535,c+=i+f,d+=c>>>16,c&=65535,d+=r+u,d&=65535,n(h<<16|p,d<<16|c,this.unsigned)},T.subtract=function(e){return t(e)||(e=s(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return p;if(t(e)||(e=s(e)),e.isZero())return p;if(this.eq(w))return e.isOdd()?w:p;if(e.eq(w))return this.isOdd()?w:p;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(h)&&e.lt(h))return i(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,o=65535&this.high,a=this.low>>>16,u=65535&this.low,f=e.high>>>16,l=65535&e.high,d=e.low>>>16,c=65535&e.low,g=0,y=0,v=0,b=0;return b+=u*c,v+=b>>>16,b&=65535,v+=a*c,y+=v>>>16,v&=65535,v+=u*d,y+=v>>>16,v&=65535,y+=o*c,g+=y>>>16,y&=65535,y+=a*d,g+=y>>>16,y&=65535,y+=u*l,g+=y>>>16,y&=65535,g+=r*c+o*d+a*l+u*f,g&=65535,n(v<<16|b,g<<16|y,this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(t(e)||(e=s(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?g:p;var r,n,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return v;o=g}else{if(this.eq(w))return e.eq(y)||e.eq(b)?w:e.eq(w)?y:(r=this.shr(1).div(e).shl(1)).eq(p)?e.isNegative()?y:b:(n=this.sub(e.mul(r)),o=r.add(n.div(e)));if(e.eq(w))return this.unsigned?g:p;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=p}for(n=this;n.gte(e);){r=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),u=a<=48?1:f(2,a-48),l=i(r),d=l.mul(e);d.isNegative()||d.gt(n);)d=(l=i(r-=u,this.unsigned)).mul(e);l.isZero()&&(l=y),o=o.add(l),n=n.sub(d)}return o},T.div=T.divide,T.modulo=function(e){return t(e)||(e=s(e)),this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.not=function(){return n(~this.low,~this.high,this.unsigned)},T.and=function(e){return t(e)||(e=s(e)),n(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return t(e)||(e=s(e)),n(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return t(e)||(e=s(e)),n(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?n(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):n(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?n(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):n(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),0===(e&=63))return this;var r=this.high;return e<32?n(this.low>>>e|r<<32-e,r>>>e,this.unsigned):32===e?n(r,0,this.unsigned):n(r>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?n(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:n(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t]},e}))}),(function(e,t){}),(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=function(e,t,r){var i;return function(){var n=this,o=arguments,s=r&&!i;clearTimeout(i),i=setTimeout((function(){i=null,r||e.apply(n,o)}),t),s&&e.apply(n,o)}},t.ajax=function(e,t,r){try{var i=void 0;window.XMLHttpRequest?i=new window.XMLHttpRequest:window.ActiveXObject&&(i=new window.ActiveXObject("MSXML2.XMLHTTP.3.0")),i.open(t?"POST":"GET",e,!0),i.setRequestHeader("Content-Type","text/plain;charset=utf8"),i.onreadystatechange=function(){i.readyState>3&&r&&r(i)},i.send(t)}catch(e){console.log(e)}}}),(function(e,t){e.exports={package:null,messages:[{name:"LogPrebidEvents",fields:[{rule:"optional",type:"fixed64",name:"timestamp",id:1},{rule:"optional",type:"string",name:"remote_addr_macro",id:2},{rule:"optional",type:"string",name:"user_agent_macro",id:3},{rule:"optional",type:"string",name:"referer_url",id:4},{rule:"optional",type:"uint32",name:"seller_member_id",id:5},{rule:"repeated",type:"Auction",name:"auctions",id:6}],messages:[{name:"Auction",fields:[{rule:"optional",type:"string",name:"version",id:1},{rule:"optional",type:"fixed64",name:"auction_init_timestamp",id:2},{rule:"optional",type:"string",name:"prebid_auction_id",id:3},{rule:"optional",type:"uint32",name:"configured_timeout_ms",id:4},{rule:"repeated",type:"AdUnit",name:"ad_units",id:5}],messages:[{name:"AdUnit",fields:[{rule:"optional",type:"string",name:"ad_unit_code",id:1},{rule:"repeated",type:"Bid",name:"bids",id:2}],messages:[{name:"Bid",fields:[{rule:"optional",type:"string",name:"bid_id",id:1},{rule:"optional",type:"double",name:"price",id:2},{rule:"optional",type:"string",name:"bidder_code",id:3},{rule:"optional",type:"string",name:"bidder_ad_unit_id",id:4},{rule:"optional",type:"fixed64",name:"request_timestamp",id:5},{rule:"optional",type:"fixed64",name:"response_timestamp",id:6},{rule:"optional",type:"uint32",name:"status_code",id:7},{rule:"optional",type:"string",name:"source",id:9},{rule:"optional",type:"Creative",name:"creative",id:8}],messages:[{name:"Creative",fields:[{rule:"optional",type:"string",name:"creative_id",id:1},{rule:"optional",type:"uint32",name:"width",id:2},{rule:"optional",type:"uint32",name:"height",id:3},{rule:"optional",type:"string",name:"brand",id:4}]}]}]}]}]}]}}),(function(e,t,r){"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(){m._bidsRequested=[],m._bidsReceived=m._bidsReceived.filter((function(e){return!m._adUnitCodes.includes(e.adUnitCode)}))}function o(e,t,r){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=r)}function s(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){w.logError("Error processing command :","prebid.js",e)}}))}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},f=r(31),l=r(0),d=r(29),c=r(13);r(277);var h=r(11),p=r(305),g=r(30),y=r(5),v=r(6),b=r(9),m=(0,f.getGlobal)(),E=r(4),w=r(0),T=r(2),S=r(1),I=r(3),A=r(10),_=r(306),P=r(21),R=g.userSync.syncUsers,O=g.userSync.triggerUserSyncs,N=E.EVENTS.BID_WON,U=E.EVENTS.SET_TARGETING,B=E.EVENTS.ADD_AD_UNITS,C=!1,j=[],k={bidWon:function(e){var t=m._bidsRequested.map((function(e){return e.bids.map((function(e){return e.placementCode}))})).reduce(l.flatten).filter(l.uniques);if(w.contains(t,e))return!0;w.logError('The "'+e+'" placement is not defined.')}};m._bidsRequested=[],m._bidsReceived=[],m._adUnitCodes=[],m._winningBids=[],m._adsReceived=[],m.bidderSettings=m.bidderSettings||{},m.bidderTimeout=m.bidderTimeout,m.cbTimeout=m.cbTimeout||200,m.timeoutBuffer=200,m.logging=m.logging,m.publisherDomain=m.publisherDomain,m.libLoaded=!0,m.version="v0.31.0",w.logInfo("Prebid.js v0.31.0 loaded"),m.adUnits=m.adUnits||[],m.triggerUserSyncs=O,m.getAdserverTargetingForAdUnitCodeStr=function(e){if(w.logInfo("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=m.getAdserverTargetingForAdUnitCode(e);return w.transformAdServerTargetingObj(t)}w.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},m.getAdserverTargetingForAdUnitCode=function(e){return m.getAdserverTargeting(e)[e]},m.getAdserverTargeting=function(e){return w.logInfo("Invoking pbjs.getAdserverTargeting",arguments),P.getAllTargeting(e).map((function(e){return i({},Object.keys(e)[0],e[Object.keys(e)[0]].map((function(e){return i({},Object.keys(e)[0],e[Object.keys(e)[0]].join(", "))})).reduce((function(e,t){return u(t,e)}),{}))})).reduce((function(e,t){var r=Object.keys(t)[0];return e[r]=u({},e[r],t[r]),e}),{})},m.getBidResponses=function(){w.logInfo("Invoking pbjs.getBidResponses",arguments);var e=m._bidsReceived.filter(l.adUnitsFilter.bind(this,m._adUnitCodes)),t=e&&e.length&&e[e.length-1].requestId;return e.map((function(e){return e.adUnitCode})).filter(l.uniques).map((function(r){return e.filter((function(e){return e.requestId===t&&e.adUnitCode===r}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){return i({},e[0].adUnitCode,{bids:e})})).reduce((function(e,t){return u(e,t)}),{})},m.getBidResponsesForAdUnitCode=function(e){return{bids:m._bidsReceived.filter((function(t){return t.adUnitCode===e}))}},m.setTargetingForGPTAsync=function(e){if(w.logInfo("Invoking pbjs.setTargetingForGPTAsync",arguments),(0,l.isGptPubadsDefined)()){var t=P.getAllTargeting(e);P.resetPresetTargeting(e),P.setTargeting(t),A.emit(U)}else w.logError("window.googletag is not defined on the page")},m.setTargetingForAst=function(){w.logInfo("Invoking pbjs.setTargetingForAn",arguments),P.isApntagDefined()?(P.setTargetingForAst(),A.emit(U)):w.logError("window.apntag is not defined on the page")},m.allBidsAvailable=function(){return w.logWarn("pbjs.allBidsAvailable will be removed in Prebid 1.0. Alternative solution is in progress. See https://github.com/prebid/Prebid.js/issues/1087 for more details."),w.logInfo("Invoking pbjs.allBidsAvailable",arguments),T.bidsBackAll()},m.renderAd=function(e,t){if(w.logInfo("Invoking pbjs.renderAd",arguments),w.logMessage("Calling renderAd with adId :"+t),e&&t)try{var r=m._bidsReceived.find((function(e){return e.adId===t}));if(r){r.ad=w.replaceAuctionPrice(r.ad,r.cpm),r.url=w.replaceAuctionPrice(r.url,r.cpm),m._winningBids.push(r),A.emit(N,r);var i=r.height,n=r.width,s=r.ad,a=r.mediaType,u=r.adUrl,f=r.renderer;if(f&&f.url)f.render(r);else if(e===document&&!w.inIframe()||"video"===a)w.logError("Error trying to write ad. Ad render call ad id "+t+" was prevented from writing to the main document.");else if(s)e.write(s),e.close(),o(e,n,i);else if(u){var l=w.createInvisibleIframe();l.height=i,l.width=n,l.style.display="inline",l.style.overflow="hidden",l.src=u,w.insertElement(l,e,"body"),o(e,n,i)}else w.logError("Error trying to write ad. No ad for bid response id: "+t)}else w.logError("Error trying to write ad. Cannot find ad by given id : "+t)}catch(e){w.logError("Error trying to write ad Id :"+t+" to the page:"+e.message)}else w.logError("Error trying to write ad Id :"+t+" to the page. Missing document or adId")},m.removeAdUnit=function(e){if(w.logInfo("Invoking pbjs.removeAdUnit",arguments),e)for(var t=0;t<m.adUnits.length;t++)m.adUnits[t].code===e&&m.adUnits.splice(t,1)},m.clearAuction=function(){C=!1;var e=b.config.getConfig("userSync")||{};e.enableOverride||R(e.syncDelay),w.logMessage("Prebid auction cleared"),j.length&&j.shift()()},m.requestBids=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,r=e.timeout,i=e.adUnits,o=e.adUnitCodes;A.emit("requestBids");var s=m.cbTimeout=r||b.config.getConfig("bidderTimeout");if(i=i||m.adUnits,w.logInfo("Invoking pbjs.requestBids",arguments),o&&o.length?i=i.filter((function(e){return o.includes(e.code)})):o=i&&i.map((function(e){return e.code})),i.filter(d.videoAdUnit).filter(d.hasNonVideoBidder).forEach((function(e){w.logError("adUnit "+e.code+" has 'mediaType' set to 'video' but contains a bidder that doesn't support video. No Prebid demand requests will be triggered for this adUnit.");for(var t=0;t<i.length;t++)i[t].code===e.code&&i.splice(t,1)})),i.filter(c.nativeAdUnit).filter(c.hasNonNativeBidder).forEach((function(e){var t=e.bids.filter((function(e){return!(0,c.nativeBidder)(e)})).map((function(e){return e.bidder})).join(", ");w.logError("adUnit "+e.code+" has 'mediaType' set to 'native' but contains non-native bidder(s) "+t+". No Prebid demand requests will be triggered for those bidders."),e.bids=e.bids.filter(c.nativeBidder)})),C)j.push((function(){m.requestBids({bidsBackHandler:t,timeout:s,adUnits:i,adUnitCodes:o})}));else{if(C=!0,m._adUnitCodes=o,T.externalCallbackReset(),n(),!i||0===i.length)return w.logMessage("No adUnits configured. No bids requested."),"function"==typeof t&&T.addOneTimeCallback(t,!1),void T.executeCallback();var a=T.executeCallback.bind(T,!0),u=setTimeout(a,s);(0,v.setAjaxTimeout)(s),"function"==typeof t&&T.addOneTimeCallback(t,u),S.callBids({adUnits:i,adUnitCodes:o,cbTimeout:s}),0===m._bidsRequested.length&&T.executeCallback()}},m.addAdUnits=function(e){w.logInfo("Invoking pbjs.addAdUnits",arguments),w.isArray(e)?(e.forEach((function(e){return e.transactionId=w.generateUUID()})),m.adUnits.push.apply(m.adUnits,e)):"object"===(void 0===e?"undefined":a(e))&&(e.transactionId=w.generateUUID(),m.adUnits.push(e)),A.emit(B)},m.onEvent=function(e,t,r){w.logInfo("Invoking pbjs.onEvent",arguments),w.isFn(t)?!r||k[e].call(null,r)?A.on(e,t,r):w.logError('The id provided is not valid for event "'+e+'" and no handler was set.'):w.logError('The event handler provided is not a function and was not set on event "'+e+'".')},m.offEvent=function(e,t,r){w.logInfo("Invoking pbjs.offEvent",arguments),r&&!k[e].call(null,r)||A.off(e,t,r)},m.addCallback=function(e,t){w.logWarn("pbjs.addCallback will be removed in Prebid 1.0. Please use onEvent instead"),w.logInfo("Invoking pbjs.addCallback",arguments);var r=null;return e&&t&&"function"==typeof t?(r=w.getUniqueIdentifierStr,T.addCallback(r,t,e),r):(w.logError("error registering callback. Check method signature"),r)},m.removeCallback=function(){return w.logWarn("pbjs.removeCallback will be removed in Prebid 1.0. Please use offEvent instead."),null},m.registerBidAdapter=function(e,t){w.logInfo("Invoking pbjs.registerBidAdapter",arguments);try{S.registerBidAdapter(e(),t)}catch(e){w.logError("Error registering bidder adapter : "+e.message)}},m.registerAnalyticsAdapter=function(e){w.logInfo("Invoking pbjs.registerAnalyticsAdapter",arguments);try{S.registerAnalyticsAdapter(e)}catch(e){w.logError("Error registering analytics adapter : "+e.message)}},m.bidsAvailableForAdapter=function(e){w.logInfo("Invoking pbjs.bidsAvailableForAdapter",arguments),m._bidsRequested.find((function(t){return t.bidderCode===e})).bids.map((function(t){return u(t,I.createBid(1),{bidderCode:e,adUnitCode:t.placementCode})})).map((function(e){return m._bidsReceived.push(e)}))},m.createBid=function(e){return w.logInfo("Invoking pbjs.createBid",arguments),I.createBid(e)},m.addBidResponse=function(e,t){w.logWarn("pbjs.addBidResponse will be removed in Prebid 1.0. Each bidder will be passed a reference to addBidResponse function in callBids as an argument. See https://github.com/prebid/Prebid.js/issues/1087 for more details."),w.logInfo("Invoking pbjs.addBidResponse",arguments),T.addBidResponse(e,t)},m.loadScript=function(e,t,r){w.logInfo("Invoking pbjs.loadScript",arguments),(0,y.loadScript)(e,t,r)},m.enableAnalytics=function(e){e&&!w.isEmpty(e)?(w.logInfo("Invoking pbjs.enableAnalytics for: ",e),S.enableAnalytics(e)):w.logError("pbjs.enableAnalytics should be called with option {}")},m.aliasBidder=function(e,t){w.logInfo("Invoking pbjs.aliasBidder",arguments),e&&t?S.aliasBidAdapter(e,t):w.logError("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},m.setPriceGranularity=function(e){w.logWarn("pbjs.setPriceGranularity will be removed in Prebid 1.0. Use pbjs.setConfig({ priceGranularity: <granularity> }) instead."),w.logInfo("Invoking pbjs.setPriceGranularity",arguments),b.config.setConfig({priceGranularity:e})},m.enableSendAllBids=function(){b.config.setConfig({enableSendAllBids:!0})},m.getAllWinningBids=function(){return m._winningBids},m.buildMasterVideoTagFromAdserverTag=function(e,t){w.logWarn("pbjs.buildMasterVideoTagFromAdserverTag will be removed in Prebid 1.0. Include the dfpVideoSupport module in your build, and use the pbjs.adservers.dfp.buildVideoAdUrl function instead"),w.logInfo("Invoking pbjs.buildMasterVideoTagFromAdserverTag",arguments);var r=(0,h.parse)(e);if(0===m._bidsReceived.length)return e;if("dfp"===t.adserver.toLowerCase()){var i=_.dfpAdserver(t,r);return i.verifyAdserverTag()||w.logError("Invalid adserverTag, required google params are missing in query string"),i.appendQueryParams(),(0,h.format)(i.urlComponents)}w.logError("Only DFP adserver is supported")},m.setBidderSequence=S.setBidderSequence,m.getHighestCpmBids=function(e){return P.getWinningBids(e)},m.setS2SConfig=function(e){if(w.contains(Object.keys(e),"accountId"))if(w.contains(Object.keys(e),"bidders")){var t=u({enabled:!1,endpoint:E.S2S.DEFAULT_ENDPOINT,timeout:1e3,maxBids:1,adapter:E.S2S.ADAPTER,syncEndpoint:E.S2S.SYNC_ENDPOINT,cookieSet:!0,bidders:[]},e);S.setS2SConfig(t)}else w.logError("bidders missing in Server to Server config");else w.logError("accountId missing in Server to Server config")},m.getConfig=b.config.getConfig,m.setConfig=b.config.setConfig,m.que.push((function(){return(0,p.listenMessagesFromCreative)()})),m.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){w.logError("Error processing command :"+e.message)}else w.logError("Commands written into pbjs.cmd.push must be wrapped in a function")},m.que.push=m.cmd.push,m.processQueue=function(){s(m.que),s(m.cmd)}}),(function(e,t,r){"use strict";r(278),r(291),r(293),r(296),Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}}),(function(e,t,r){r(279),e.exports=r(12).Array.find}),(function(e,t,r){"use strict";var i=r(17),n=r(34)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),i(i.P+i.F*o,"Array",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r(27)("find")}),(function(e,t,r){var i=r(281),n=r(282),o=r(284),s=Object.defineProperty;t.f=r(23)?Object.defineProperty:function(e,t,r){if(i(e),t=o(t,!0),i(r),n)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}}),(function(e,t,r){var i=r(18);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}}),(function(e,t,r){e.exports=!r(23)&&!r(24)((function(){return 7!=Object.defineProperty(r(283)("div"),"a",{get:function(){return 7}}).a}))}),(function(e,t,r){var i=r(18),n=r(14).document,o=i(n)&&i(n.createElement);e.exports=function(e){return o?n.createElement(e):{}}}),(function(e,t,r){var i=r(18);e.exports=function(e,t){if(!i(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!i(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}}),(function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}}),(function(e,t,r){var i=r(14),n=r(22),o=r(32),s=r(25)("src"),a=Function.toString,u=(""+a).split("toString");r(12).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,r,a){var f="function"==typeof r;f&&(o(r,"name")||n(r,"name",t)),e[t]!==r&&(f&&(o(r,s)||n(r,s,e[t]?""+e[t]:u.join(String(t)))),e===i?e[t]=r:a?e[t]?e[t]=r:n(e,t,r):(delete e[t],n(e,t,r)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[s]||a.call(this)}))}),(function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}}),(function(e,t,r){var i=r(289);e.exports=function(e,t){return new(i(e))(t)}}),(function(e,t,r){var i=r(18),n=r(290),o=r(40)("species");e.exports=function(e){var t;return n(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!n(t.prototype)||(t=void 0),i(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}}),(function(e,t,r){var i=r(35);e.exports=Array.isArray||function(e){return"Array"==i(e)}}),(function(e,t,r){r(292),e.exports=r(12).Array.findIndex}),(function(e,t,r){"use strict";var i=r(17),n=r(34)(6),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),i(i.P+i.F*s,"Array",{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r(27)(o)}),(function(e,t,r){r(294),e.exports=r(12).Array.includes}),(function(e,t,r){"use strict";var i=r(17),n=r(42)(!0);i(i.P,"Array",{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r(27)("includes")}),(function(e,t,r){var i=r(39),n=Math.max,o=Math.min;e.exports=function(e,t){return(e=i(e))<0?n(e+t,0):o(e,t)}}),(function(e,t,r){r(297),e.exports=r(12).Object.assign}),(function(e,t,r){var i=r(17);i(i.S+i.F,"Object",{assign:r(298)})}),(function(e,t,r){"use strict";var i=r(299),n=r(303),o=r(304),s=r(36),a=r(26),u=Object.assign;e.exports=!u||r(24)((function(){var e={},t={},r=Symbol(),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach((function(e){t[e]=e})),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=i}))?function(e,t){for(var r=s(e),u=arguments.length,f=1,l=n.f,d=o.f;u>f;)for(var c,h=a(arguments[f++]),p=l?i(h).concat(l(h)):i(h),g=p.length,y=0;g>y;)d.call(h,c=p[y++])&&(r[c]=h[c]);return r}:u}),(function(e,t,r){var i=r(300),n=r(302);e.exports=Object.keys||function(e){return i(e,n)}}),(function(e,t,r){var i=r(32),n=r(43),o=r(42)(!1),s=r(301)("IE_PROTO");e.exports=function(e,t){var r,a=n(e),u=0,f=[];for(r in a)r!=s&&i(a,r)&&f.push(r);for(;t.length>u;)i(a,r=t[u++])&&(~o(f,r)||f.push(r));return f}}),(function(e,t,r){var i=r(41)("keys"),n=r(25);e.exports=function(e){return i[e]||(i[e]=n(e))}}),(function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")}),(function(e,t){t.f=Object.getOwnPropertySymbols}),(function(e,t){t.f={}.propertyIsEnumerable}),(function(e,t,r){"use strict";function i(e){var t=e.message?"message":"data",r={};try{r=JSON.parse(e[t])}catch(e){return}if(r.adId){var i=pbjs._bidsReceived.find((function(e){return e.adId===r.adId}));"Prebid Request"===r.message&&(n(i,r.adServerDomain,e.source),pbjs._winningBids.push(i),s.default.emit(u,i)),"Prebid Native"===r.message&&((0,a.fireNativeTrackers)(r,i),pbjs._winningBids.push(i),s.default.emit(u,i))}}function n(e,t,r){var i=e.adId,n=e.ad,s=e.adUrl,a=e.width,u=e.height;i&&(o(e),r.postMessage(JSON.stringify({message:"Prebid Response",ad:n,adUrl:s,adId:i,width:a,height:u}),t))}function o(e){var t=e.adUnitCode,r=e.width,i=e.height,n=document.getElementById(window.googletag.pubads().getSlots().find((function(e){return e.getAdUnitPath()===t||e.getSlotElementId()===t})).getSlotElementId()).querySelector("iframe");n.width=""+r,n.height=""+i}Object.defineProperty(t,"__esModule",{value:!0}),t.listenMessagesFromCreative=function(){addEventListener("message",i,!1)};var s=(function(e){return e&&e.__esModule?e:{default:e}})(r(10)),a=r(13),u=r(4).EVENTS.BID_WON}),(function(e,t,r){"use strict";var i=r(11),n=r(21),o=function(e){this.name=e.adserver,this.code=e.code,this.getWinningBidByCode=function(){return(0,n.getWinningBids)(this.code)[0]}};t.dfpAdserver=function(e,t){var r=new o(e);r.urlComponents=t;var n={env:"vp",gdfp_req:"1",impl:"s",unviewed_position_start:"1"},s=["output","iu","sz","url","correlator","description_url","hl"],a=function(e){return encodeURIComponent((0,i.formatQS)(e))};return r.appendQueryParams=function(){var e=r.getWinningBidByCode();e&&(this.urlComponents.search.description_url=encodeURIComponent(e.descriptionUrl),this.urlComponents.search.cust_params=a(e.adserverTargeting),this.urlComponents.search.correlator=Date.now())},r.verifyAdserverTag=function(){for(var e in n)if(!this.urlComponents.search.hasOwnProperty(e)||this.urlComponents.search[e]!==n[e])return!1;for(var t in s)if(!this.urlComponents.search.hasOwnProperty(s[t]))return!1;return!0},r}})]);
pbjsChunk([93],{78:function(e,r,t){e.exports=t(79)},79:function(e,r,t){"use strict";function a(e,r){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}var n=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},o=a(["","://","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=","",";misc=",""],["","://","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=","",";misc=",""]),i=a(["","://","/bidRequest?"],["","://","/bidRequest?"]),d=a(["dcn=","&pos=","&cmd=bid",""],["dcn=","&pos=","&cmd=bid",""]),s=t(0),c=t(6).ajax,p=t(3),l=t(2),u=t(4),m=t(1),b=t(7).default,f={aol:"aol",onemobile:"onemobile",onedisplay:"onedisplay"};pbjs.aolGlobals={pixelsDropped:!1};var v=function(){function e(e){pbjs.aolGlobals.pixelsDropped||(t(r(e)),pbjs.aolGlobals.pixelsDropped=!0)}function r(e){var r=/\w*(?=\s)/,t=/src=("|')(.*?)\1/,a=[];if(e){var n=e.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi);n&&n.forEach((function(e){var n=e.match(r),o=e.match(t);n&&o&&a.push({tagName:n[0].toUpperCase(),src:o[2]})}))}return a}function t(e){e.forEach((function(e){switch(e.tagName){case R.img:return a(e);case R.iframe:return m(e)}}))}function a(e){(new Image).src=e.src}function m(e){var r=document.createElement("iframe");r.width=1,r.height=1,r.style.display="none",r.src=e.src,"interactive"===document.readyState||"complete"===document.readyState?document.body.appendChild(r):k((function(){document.body.appendChild(r)}))}function v(e){for(var r=arguments.length,t=Array(r>1?r-1:0),a=1;a<r;a++)t[a-1]=arguments[a];return function(){for(var r=arguments.length,a=Array(r),n=0;n<r;n++)a[n]=arguments[n];var o=a[a.length-1]||{},i=[e[0]];return t.forEach((function(r,t){var n=Number.isInteger(r)?a[r]:o[r];i.push(n,e[t+1])})),i.join("")}}function h(e){var r=e.params,t=r.server,a=r.region||"us",n=void 0;return B.hasOwnProperty(a)||(s.logWarn("Unknown region '"+a+"' for AOL bidder."),a="us"),n=t||B[a],r.region=a,I({protocol:"https:"===document.location.protocol?"https":"http",host:n,network:r.network,placement:parseInt(r.placement),pageid:r.pageId||0,sizeid:r.sizeId||0,alias:r.alias||s.getUniqueIdentifierStr(),bidfloor:void 0!==r.bidFloor?";bidfloor="+r.bidFloor.toString():"",misc:(new Date).getTime()})}function g(e){var r=e.params,t=r.dcn,a=r.pos,n="https:"===document.location.protocol,o=A({protocol:n?"https":"http",host:e.params.host||N});if(t&&a){var i="";n&&(e.params.ext=e.params.ext||{},e.params.ext.secure=1),s._each(e.params.ext,(function(e,r){i+="&"+r+"="+encodeURIComponent(e)})),o+=D({dcn:t,pos:a,ext:i})}return o}function x(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=p.createBid(2,e);t.bidderCode=e.bidder,t.reason=r.nbr,t.raw=r,l.addBidResponse(e.placementCode,t)}function y(r,t){var a=void 0;try{a=t.seatbid[0].bid[0]}catch(e){return void x(r,t)}var n=void 0;if(a.ext&&a.ext.encp)n=a.ext.encp;else if(null===(n=a.price)||isNaN(n))return s.logError("Invalid price in bid response",f.aol,r),void x(r,t);var o=a.adm;t.ext&&t.ext.pixels&&(r.params.userSyncOn===u.EVENTS.BID_RESPONSE?e(t.ext.pixels):o+="<script>if(!parent.pbjs.aolGlobals.pixelsDropped){parent.pbjs.aolGlobals.pixelsDropped=true;"+t.ext.pixels.replace(/<\/?script( type=('|")text\/javascript('|")|)?>/g,"")+"}<\/script>");var i=p.createBid(1,r);i.bidderCode=r.bidder,i.ad=o,i.cpm=n,i.width=a.w,i.height=a.h,i.creativeId=a.crid,i.pubapiId=t.id,i.currencyCode=t.cur,a.dealid&&(i.dealId=a.dealid),l.addBidResponse(r.placementCode,i)}function w(e){return e===f.aol||e===f.onedisplay}function j(e){return e===f.aol||e===f.onemobile}function E(e){if(j(e.bidder)&&e.params.id&&e.params.imp&&e.params.imp[0]){var r=e.params.imp[0];return r.id&&r.tagid&&(r.banner&&r.banner.w&&r.banner.h||r.video&&r.video.mimes&&r.video.minduration&&r.video.maxduration)}}function C(e){return j(e.bidder)&&e.params.dcn&&e.params.pos}function O(e){return w(e.bidder)&&e.params.placement&&e.params.network}var S=!0,I=v(o,"protocol","host","network","placement","pageid","sizeid","alias","bidfloor","misc"),A=v(i,"protocol","host"),D=v(d,"dcn","pos","ext"),B={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"},N="hb.nexage.com",R={iframe:"IFRAME",img:"IMG"},k=(function(){var e=!1;return function(r){var t=function(){if(!e)return e=!0,r()};if("complete"===document.readyState)return t();document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)}})();return n(this,new b(f.aol),{callBids:function(e){s._each(e.bids,(function(e){var r=void 0,t=null,a={withCredentials:!0},n=E(e),o=C(e),i=O(e);o||n?(r=g(e),n&&(t=e.params,a.customHeaders={"x-openrtb-version":"2.2"},a.method="POST",a.contentType="application/json")):i&&(r=h(e)),r&&c(r,(function(r){if(S&&pbjs.bidderSettings&&pbjs.bidderSettings.aol&&"function"==typeof pbjs.bidderSettings.aol.bidCpmAdjustment&&s.logWarn("bidCpmAdjustment is active for the AOL adapter. As of Prebid 0.14, AOL can bid in net  please contact your accounts team to enable."),S=!1,!r&&r.length<=0)return s.logError("Empty bid response",f.aol,e),void x(e,r);try{r=JSON.parse(r)}catch(t){return s.logError("Invalid JSON in bid response",f.aol,e),void x(e,r)}y(e,r)}),t,a)}))}})};m.registerBidAdapter(new v,f.aol),m.aliasBidAdapter(f.aol,f.onedisplay),m.aliasBidAdapter(f.aol,f.onemobile),e.exports=v}},[78]);
pbjsChunk([9],{8:function(e,n,t){"use strict";function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.default=function(e){function n(e){var n=e.eventType,t=e.args,a=e.callback;(0,i.ajax)(h,a,JSON.stringify({eventType:n,args:t}))}function t(e){var n=e.eventType,t=e.args,a=this;m&&window[m]&&n&&t?this.track({eventType:n,args:t}):M.push((function(){q++,a.track({eventType:n,args:t})}))}function u(){if(O){for(var e=0;e<M.length;e++)M[e]();M.push=function(e){e()},O=!1}s.logMessage("event count sent to "+m+": "+q)}var _,h=e.url,A=e.analyticsType,m=e.global,I=e.handler,M=[],q=0,O=!0;return A===b&&(0,o.loadScript)(h,u),(A===E||S)&&u(),{track:function(e){var t=e.eventType,a=e.args;(this.getAdapterType()===b||S)&&window[m](I,t,a),this.getAdapterType()===E&&n.apply(void 0,arguments)},enqueue:t,enableAnalytics:function(e){var n=this,u=this;if(N="object"!==(void 0===e?"undefined":r(e))||"object"!==r(e.options)||void 0===e.options.sampling||Math.random()<parseFloat(e.options.sampling)){var o;l.getEvents().forEach((function(e){if(e){var n=e.eventType,a=e.args;n!==y&&t.call(u,{eventType:n,args:a})}})),a(o={},p,(function(e){return n.enqueue({eventType:p,args:e})})),a(o,d,(function(e){return n.enqueue({eventType:d,args:e})})),a(o,y,(function(e){return n.enqueue({eventType:y,args:e})})),a(o,T,(function(e){return n.enqueue({eventType:T,args:e})})),a(o,g,(function(e){return n.enqueue({eventType:g,args:e})})),a(o,v,(function(e){return n.enqueue({eventType:v,args:e})})),a(o,f,(function(e){return n.enqueue({eventType:f,args:e})})),a(o,c,(function(t){t.config=e.options,n.enqueue({eventType:c,args:t})})),_=o,s._each(_,(function(e,n){l.on(n,e)}))}else s.logMessage('Analytics adapter for "'+m+'" disabled by sampling');this.enableAnalytics=function(){return s.logMessage('Analytics adapter for "'+m+'" already enabled, unnecessary call to `enableAnalytics`.')}},disableAnalytics:function(){s._each(_,(function(e,n){l.off(n,e)}))},getAdapterType:function(){return A},getGlobal:function(){return m},getHandler:function(){return I},getUrl:function(){return h}}};var u=(function(e){return e&&e.__esModule?e:{default:e}})(t(4)),o=t(5),i=t(6),l=t(10),s=t(0),c=u.default.EVENTS.AUCTION_INIT,f=u.default.EVENTS.AUCTION_END,p=u.default.EVENTS.BID_REQUESTED,y=u.default.EVENTS.BID_TIMEOUT,d=u.default.EVENTS.BID_RESPONSE,T=u.default.EVENTS.BID_WON,g=u.default.EVENTS.BID_ADJUSTMENT,v=u.default.EVENTS.SET_TARGETING,b="library",E="endpoint",S="bundle",N=!0},80:function(e,n,t){e.exports=t(81)},81:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=a(t(8)),u=a(t(1)),o=(0,r.default)({global:"AppNexusPrebidAnalytics",handler:"on",analyticsType:"bundle"});u.default.registerAnalyticsAdapter({adapter:o,code:"appnexus"}),n.default=o}},[80]);
pbjsChunk([0],{82:function(e,r,a){a(83),e.exports=a(85)},83:function(e,r,a){"use strict";function t(e){if(Array.isArray(e)){for(var r=0,a=Array(e.length);r<e.length;r++)a[r]=e[r];return a}return Array.from(e)}function n(e,r){var a=g.Renderer.install({id:r.renderer_id,url:r.renderer_url,config:{adText:"AppNexus Outstream Video Ad via Prebid.js"},loaded:!1});try{a.setRender(l)}catch(e){_.logWarn("Prebid Error calling setRender on renderer",e)}return a.setEventHandlers({impression:function(){return _.logMessage("AppNexus outstream video impression event")},loaded:function(){return _.logMessage("AppNexus outstream video loaded event")},ended:function(){_.logMessage("AppNexus outstream renderer video event"),document.querySelector("#"+e).style.display="none"}}),a}function i(e){var r=[];return _._each(e,(function(e,a){if(_.isArray(e)){var t=[];_._each(e,(function(e){(e=_.getValueString("keywords."+a,e))&&t.push(e)})),e=t}else{if(e=_.getValueString("keywords."+a,e),!_.isStr(e))return;e=[e]}r.push({key:a,value:e})})),r}function s(e,r){var a={requestId:e.uuid,cpm:r.cpm,creative_id:r.creative_id,dealId:r.deal_id};if(r.rtb.video)b(a,{width:r.rtb.video.player_width,height:r.rtb.video.player_height,vastUrl:r.rtb.video.asset_url,descriptionUrl:r.rtb.video.asset_url}),r.renderer_url&&(b(a,{adResponse:e,renderer:n(a.adUnitCode,r)}),a.adResponse.ad=a.adResponse.ads[0],a.adResponse.ad.video=a.adResponse.ad.rtb.video);else if(r.rtb.native){var t=r.rtb.native;a.native={title:t.title,body:t.desc,cta:t.ctatext,sponsoredBy:t.sponsored,image:t.main_img&&t.main_img.url,icon:t.icon&&t.icon.url,clickUrl:t.link.url,clickTrackers:t.link.click_trackers,impressionTrackers:t.impression_trackers}}else{b(a,{width:r.rtb.banner.width,height:r.rtb.banner.height,ad:r.rtb.banner.content});try{var i=r.rtb.trackers[0].impression_urls[0],s=_.createTrackPixelHtml(i);a.ad+=s}catch(e){_.logError("Error appending tracking pixel",e)}}return a}function o(e){var r={};if(r.sizes=d(e.sizes),r.primary_size=r.sizes[0],r.uuid=e.bidId,e.params.placementId?r.id=parseInt(e.params.placementId,10):r.code=e.params.invCode,r.allow_smaller_sizes=e.params.allowSmallerSizes||!1,r.prebid=!0,r.disable_psa=!0,e.params.reserve&&(r.reserve=e.params.reserve),e.params.position&&(r.position={above:1,below:2}[e.params.position]||0),e.params.trafficSourceCode&&(r.traffic_source_code=e.params.trafficSourceCode),e.params.privateSizes&&(r.private_sizes=getSizes(e.params.privateSizes)),e.params.supplyType&&(r.supply_type=e.params.supplyType),e.params.pubClick&&(r.pubclick=e.params.pubClick),e.params.extInvCode&&(r.ext_inv_code=e.params.extInvCode),e.params.externalImpId&&(r.external_imp_id=e.params.externalImpId),_.isEmpty(e.params.keywords)||(r.keywords=i(e.params.keywords)),("native"===e.mediaType||_.deepAccess(e,"mediaTypes.native"))&&(r.ad_types=["native"],e.nativeParams)){var a=m(e.nativeParams);r.native={layouts:[a]}}var t=_.deepAccess(e,"mediaTypes.video"),n=_.deepAccess(e,"mediaTypes.video.context");return("video"===e.mediaType||t&&"outstream"!==n)&&(r.require_asset_url=!0),e.params.video&&(r.video={},Object.keys(e.params.video).filter((function(e){return x.includes(e)})).forEach((function(a){return r.video[a]=e.params.video[a]}))),r}function d(e){var r=[],a={};if(_.isArray(e)&&2===e.length&&!_.isArray(e[0]))a.width=parseInt(e[0],10),a.height=parseInt(e[1],10),r.push(a);else if("object"===(void 0===e?"undefined":y(e)))for(var t=0;t<e.length;t++){var n=e[t];(a={}).width=parseInt(n[0],10),a.height=parseInt(n[1],10),r.push(a)}return r}function u(e){return!!e.params.user}function p(e){return!!parseInt(e.params.member,10)}function c(e){return e&&e.ads&&e.ads.length&&e.ads.find((function(e){return e.rtb}))}function m(e){var r={};return Object.keys(e).forEach((function(a){var t=S[a]&&S[a].serverName||S[a]||a,n=S[a]&&S[a].requiredParams;r[t]=b({},n,e[a]);var i=S[a]&&S[a].minimumParams;if(n&&i){var s=Object.keys(e[a]),o=Object.keys(n);0===s.filter((function(e){return!o.includes(e)})).length&&(r[t]=b({},r[t],i))}})),r}function l(e){e.renderer.push((function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},v.bind(null,e))}))}function v(e,r,a){e.renderer.handleVideoEvent({id:r,eventName:a})}function f(e){var r=e.ad_type;return"video"===r?"video":"native"===r?"native":"banner"}Object.defineProperty(r,"__esModule",{value:!0}),r.spec=void 0;var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},g=a(19),_=(function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r.default=e,r})(a(0)),h=a(15),k=a(84),I=["banner","video","native"],x=["id","mimes","minduration","maxduration","startdelay","skippable","playback_method","frameworks"],A=["age","external_uid","segments","gender","dnt","language"],S={body:"description",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},icon:{serverName:"icon",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},sponsoredBy:"sponsored_by"},w=r.spec={code:"appnexusAst",supportedMediaTypes:[k.VIDEO,k.NATIVE],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,r){var a=e.map(o),n=e.find(u),i=void 0;n&&(i={},Object.keys(n.params.user).filter((function(e){return A.includes(e)})).forEach((function(e){return i[e]=n.params.user[e]})));var s=e.find(p),d=s?parseInt(s.params.member,10):0,c={tags:[].concat(t(a)),user:i,sdk:{source:"pbjs",version:"0.31.0"}};return d>0&&(c.member_id=d),{method:"POST",url:"//ib.adnxs.com/ut/v3/prebid",data:JSON.stringify(c),bidderRequest:r}},interpretResponse:function(e,r){var a=r.bidderRequest,t=[];if(!e||e.error){var n="in response for "+a.bidderCode+" adapter";return e&&e.error&&(n+=": "+e.error),_.logError(n),t}return e.tags&&e.tags.forEach((function(e){var r=c(e);if(r&&0!==r.cpm&&I.includes(r.ad_type)){var a=s(e,r);a.mediaType=f(r),t.push(a)}})),t},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"//acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html"}]}};(0,h.registerBidder)(w)},84:function(e,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.NATIVE="native",r.VIDEO="video",r.BANNER="banner"},85:function(e,r){}},[82]);
pbjsChunk([92],{86:function(e,r,a){e.exports=a(87)},87:function(e,r,a){"use strict";var t,d=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},s=a(0),i=(function(e){return e&&e.__esModule?e:{default:e}})(a(1)),n=a(4),l=a(0),p=a(5),u=a(2),c=a(3),o=a(7).default;t=function(){function e(e,r){var a=l.getBidIdParameter("placementId",e.params),t=l.getBidIdParameter("memberId",e.params),s=l.getBidIdParameter("member",e.params),i=l.getBidIdParameter("invCode",e.params),n=l.getBidIdParameter("query",e.params),p=l.getBidIdParameter("referrer",e.params),u=l.getBidIdParameter("alt_referrer",e.params),c="//ib.adnxs.com/jpt?";c=l.tryAppendQueryString(c,"callback","pbjs.handleAnCB"),c=l.tryAppendQueryString(c,"callback_uid",r),c=l.tryAppendQueryString(c,"psa","0"),c=l.tryAppendQueryString(c,"id",a),s?c=l.tryAppendQueryString(c,"member",s):t&&(c=l.tryAppendQueryString(c,"member",t),l.logMessage('appnexus.callBids: "memberId" will be deprecated soon. Please use "member" instead')),c=l.tryAppendQueryString(c,"code",i),c=l.tryAppendQueryString(c,"traffic_source_code",l.getBidIdParameter("trafficSourceCode",e.params));var o="",m=l.parseSizesInput(e.sizes),g=m.length;if(g>0&&(o="size="+m[0],g>1)){o+="&promo_sizes=";for(var f=1;f<g;f++)o+=m[f]+=",";o&&","===o.charAt(o.length-1)&&(o=o.slice(0,o.length-1))}o&&(c+=o+"&");var b=l.parseQueryStringParameters(n);b&&(c+=b);var y=d({},e.params);delete y.placementId,delete y.memberId,delete y.invCode,delete y.query,delete y.referrer,delete y.alt_referrer,delete y.member;var B=l.parseQueryStringParameters(y);return B&&(c+=B),""===p&&(p=l.getTopWindowUrl()),c=l.tryAppendQueryString(c,"referrer",p),(c=l.tryAppendQueryString(c,"alt_referrer",u)).lastIndexOf("&")===c.length-1&&(c=c.substring(0,c.length-1)),l.logMessage("jpt request built: "+c),e.startTime=(new Date).getTime(),c}var r=new o("appnexus"),a=!1;return r.callBids=function(r){for(var a=r.bids,t=0;t<a.length;t++){var d=a[t],s=d.bidId;p.loadScript(e(d,s))}},pbjs.handleAnCB=function(e){var r;if(e&&e.callback_uid){var t,d=e.callback_uid,i="",p=(0,s.getBidRequest)(d);p&&(r=p.bidder,i=p.placementCode,p.status=n.STATUS.GOOD),l.logMessage("JSONP callback function called for ad ID: "+d);var o=[];if(e.result&&e.result.cpm&&0!==e.result.cpm){t=parseInt(e.result.cpm,10),t/=1e4;var m=e.result.creative_id;(o=c.createBid(1,p)).creative_id=m,o.bidderCode=r,o.cpm=t,o.adUrl=e.result.ad,o.width=e.result.width,o.height=e.result.height,o.dealId=e.result.deal_id,u.addBidResponse(i,o)}else l.logMessage("No prebid response from AppNexus for placement code "+i),(o=c.createBid(2,p)).bidderCode=r,u.addBidResponse(i,o);if(!a){var g=l.createInvisibleIframe();g.src="//acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html";try{document.body.appendChild(g)}catch(e){l.logError(e)}a=!0}}else l.logMessage("No prebid response for placement %%PLACEMENT%%")},d(this,{callBids:r.callBids,setBidderCode:r.setBidderCode,buildJPTCall:e})},i.default.registerBidAdapter(new t,"appnexus"),i.default.aliasBidAdapter("appnexus","brealtime"),i.default.aliasBidAdapter("appnexus","pagescience"),i.default.aliasBidAdapter("appnexus","defymedia"),i.default.aliasBidAdapter("appnexus","gourmetads"),i.default.aliasBidAdapter("appnexus","matomy"),i.default.aliasBidAdapter("appnexus","featureforward"),i.default.aliasBidAdapter("appnexus","oftmedia"),e.exports=t}},[86]);
pbjsChunk([40],{207:function(e,r,t){e.exports=t(208)},208:function(e,r,t){"use strict";function i(){return"pbjs_lite_"+pbjs.version}function n(){return"https:"===location.protocol}function o(e,r){return(r.cpm||0)-(e.cpm||0)}function s(){return[window.screen.width,window.screen.height].join("x")}function a(){var e=(function(){var e=window.DigiTrust&&(pbjs.getConfig("digiTrustId")||window.DigiTrust.getUser({member:"T9QSFKPDN9"}));return e&&e.success&&e.identity||null})();return!e||e.privacy&&e.privacy.optout?[]:["dt.id",e.id,"dt.keyv",e.keyv,"dt.pref",0]}function d(e,r){return"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='"+r+"'>\n<script type='text/javascript'>"+e+"<\/script>\n</div>\n</body>\n</html>"}function u(e){var r=e.params;if("video"===e.mediaType){var t=[];return r.video.playerWidth&&r.video.playerHeight?t=[r.video.playerWidth,r.video.playerHeight]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(t=e.sizes[0]),t}return c(Array.isArray(r.sizes)?r.sizes.map((function(e){return(y[e]||"").split("x")})):e.sizes)}function c(e){var r=[15,2,9];return f.parseSizesInput(e).reduce((function(e,r){var t=parseInt(y[r],10);return t&&e.push(t),e}),[]).sort((function(e,t){var i=r.indexOf(e),n=r.indexOf(t);return i>-1||n>-1?-1===i?1:-1===n?-1:i-n:e-t}))}Object.defineProperty(r,"__esModule",{value:!0}),r.spec=void 0;var p=(function(){function e(e,r){var t=[],i=!0,n=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(t.push(s.value),!r||t.length!==r);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.masSizeOrdering=c,r.resetUserSync=function(){x=!1};var f=(function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r})(t(0)),v=t(15),y={1:"468x60",2:"728x90",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",43:"320x50",44:"300x50",48:"300x300",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",65:"640x480",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",94:"970x310",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",195:"600x300"};f._each(y,(function(e,r){return y[e]=r}));var m=r.spec={code:"rubicon",aliases:["rubiconLite"],supportedMediaTypes:["video"],isBidRequestValid:function(e){if("object"!==l(e.params))return!1;var r=e.params;return!!/^\d+$/.test(r.accountId)&&(!(u(e).length<1)&&!!("video"!==e.mediaType||"object"===l(r.video)&&r.video.size_id))},buildRequests:function(e,r){return e.map((function(e){if(e.startTime=(new Date).getTime(),"video"===e.mediaType){var t=e.params,o=u(e),d={page_url:t.referrer?t.referrer:f.getTopWindowUrl(),resolution:s(),account_id:t.accountId,integration:i(),timeout:r.timeout-(Date.now()-r.auctionStart+500),stash_creatives:!0,ae_pass_through_parameters:t.video.aeParams,slots:[]},c={site_id:t.siteId,zone_id:t.zoneId,position:t.position||"btf",floor:parseFloat(t.floor)>.01?t.floor:.01,element_id:e.placementCode,name:e.placementCode,language:t.video.language,width:o[0],height:o[1],size_id:t.video.size_id};return t.inventory&&"object"===l(t.inventory)&&(c.inventory=t.inventory),t.keywords&&Array.isArray(t.keywords)&&(c.keywords=t.keywords),t.visitor&&"object"===l(t.visitor)&&(c.visitor=t.visitor),d.slots.push(c),{method:"POST",url:"//fastlane-adv.rubiconproject.com/v1/auction/video",data:d,bidRequest:e}}var p=e.params,v=p.accountId,y=p.siteId,m=p.zoneId,x=p.position,h=p.floor,_=p.keywords,b=p.visitor,g=p.inventory,w=p.userId,j=p.referrer;h=(h=parseFloat(h))>.01?h:.01,x=x||"btf";var z=u(e),T=["account_id",v,"site_id",y,"zone_id",m,"size_id",z[0],"alt_size_ids",z.slice(1).join(",")||void 0,"p_pos",x,"rp_floor",h,"rp_secure",n()?"1":"0","tk_flint",i(),"tid",e.transactionId,"p_screen_res",s(),"kw",_,"tk_user_key",w];return null!==b&&"object"===(void 0===b?"undefined":l(b))&&f._each(b,(function(e,r){return T.push("tg_v."+r,e)})),null!==g&&"object"===(void 0===g?"undefined":l(g))&&f._each(g,(function(e,r){return T.push("tg_i."+r,e)})),T.push("rand",Math.random(),"rf",j||f.getTopWindowUrl()),T=T.concat(a()),T=T.reduce((function(e,r,t){return t%2==0&&void 0!==T[t+1]?e+r+"="+encodeURIComponent(T[t+1])+"&":e}),"").slice(0,-1),{method:"GET",url:"//fastlane.rubiconproject.com/a/api/fastlane.json",data:T,bidRequest:e}}))},interpretResponse:function(e,r){var t=r.bidRequest,i=e.ads;return"object"!==(void 0===e?"undefined":l(e))||"ok"!==e.status?[]:("object"===(void 0===t?"undefined":l(t))&&"video"===t.mediaType&&"object"===(void 0===i?"undefined":l(i))&&(i=i[t.placementCode]),!Array.isArray(i)||i.length<1?[]:(i=i.sort(o)).reduce((function(e,r){if("ok"!==r.status)return[];var i={requestId:t.bidId,currency:"USD",creative_id:r.creative_id,bidderCode:m.code,cpm:r.cpm||0,dealId:r.deal};if("video"===t.mediaType)i.width=t.params.video.playerWidth,i.height=t.params.video.playerHeight,i.vastUrl=r.creative_depot_url,i.descriptionUrl=r.impression_id,i.impression_id=r.impression_id;else{i.ad=d(r.script,r.impression_id);var n=y[r.size_id].split("x").map((function(e){return Number(e)})),o=p(n,2);i.width=o[0],i.height=o[1]}return i.rubiconTargeting=(Array.isArray(r.targeting)?r.targeting:[]).reduce((function(e,r){return e[r.key]=r.values[0],e}),{rpfl_elemid:t.placementCode}),e.push(i),e}),[]))},getUserSyncs:function(){if(!x)return x=!0,{type:"iframe",url:"https://tap-secure.rubiconproject.com/partner/scripts/rubicon/emily.html?rtb_ext=1"}}},x=!1;(0,v.registerBidder)(m)}},[207]);
pbjs.processQueue();
